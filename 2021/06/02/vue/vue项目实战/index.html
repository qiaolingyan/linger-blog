<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="qiao">
    
    <title>
        
            vue项目实战 |
        
        Qiao
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/img.jpg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/img.jpg","favicon":"/images/img.jpg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Qiao
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >
                                LINKS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links">LINKS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">vue项目实战</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/img.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">qiao</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-06-02 09:44:46
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/vue/">vue</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="/categories/vue/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/">项目实战</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/vue/">vue</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <p>项目技术：vue2 + ts + elementui</p>
<h2 id="搭建项目架构"><a href="#搭建项目架构" class="headerlink" title="搭建项目架构"></a>搭建项目架构</h2><h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><h4 id="使用-Vue-CLI-创建项目"><a href="#使用-Vue-CLI-创建项目" class="headerlink" title="使用 Vue CLI 创建项目"></a>使用 Vue CLI 创建项目</h4><p>安装 Vue ClI</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">npm i -g @vue/cli</span><br><span class="line">vue create edu-boss-fed</span><br><span class="line"></span><br><span class="line"> Vue CLI v4.5.6</span><br><span class="line"> ? Please pick a preset: Manually select features // 手动选择公共特性</span><br><span class="line"> ? Check the features needed <span class="keyword">for</span> your project: Babel, TS, Router,</span><br><span class="line">Vuex, CSS Pre-processors, Linter</span><br><span class="line"> ? Use class-style component syntax? Yes // TS 相关</span><br><span class="line"> ? Use Babel alongside TypeScript (required <span class="keyword">for</span> modern mode, autodetected polyfills, transpiling JSX)? Yes</span><br><span class="line"> ? Use <span class="built_in">history</span> mode <span class="keyword">for</span> router? (Requires proper server setup <span class="keyword">for</span></span><br><span class="line">index fallback <span class="keyword">in</span> production) No</span><br><span class="line"> ? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules</span><br><span class="line">are supported by default): Sass/SCSS (with dart-sass)</span><br><span class="line"> ? Pick a linter / formatter config: Standard</span><br><span class="line"> ? Pick additional lint features: Lint on save, Lint and fix on co</span><br><span class="line">mmit</span><br><span class="line"> ? Where <span class="keyword">do</span> you prefer placing config <span class="keyword">for</span> Babel, ESLint, etc.? In</span><br><span class="line">dedicated config files // 保存到各自独立的配置文件中</span><br><span class="line"> ? Save this as a preset <span class="keyword">for</span> future projects? No</span><br><span class="line"></span><br><span class="line"> ⚓ Running completion hooks...</span><br><span class="line"></span><br><span class="line"> � Generating README.md...</span><br><span class="line"></span><br><span class="line"> � Successfully created project topline-m-89.</span><br><span class="line"> � Get started with the following commands:</span><br><span class="line"></span><br><span class="line"> $ <span class="built_in">cd</span> edu-boss-fed</span><br><span class="line"> $ npm run serve</span><br></pre></td></tr></table></figure>

<p>安装结束，启动开发服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> edu-boss-fed</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure>



<h3 id="使用-TypeScript-开发-Vue-项目"><a href="#使用-TypeScript-开发-Vue-项目" class="headerlink" title="使用 TypeScript 开发 Vue 项目"></a>使用 TypeScript 开发 Vue 项目</h3><ol>
<li><p>全新项目</p>
<p>脚手架安装时 选择 TypeScript</p>
</li>
<li><p>已有项目</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue add @vue/typescript</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="TypeScript-相关配置介绍"><a href="#TypeScript-相关配置介绍" class="headerlink" title="TypeScript 相关配置介绍"></a>TypeScript 相关配置介绍</h3><h4 id="安装了-TypeScript-相关的依赖项"><a href="#安装了-TypeScript-相关的依赖项" class="headerlink" title="安装了 TypeScript 相关的依赖项"></a>安装了 TypeScript 相关的依赖项</h4><ol>
<li>dependencies 依赖</li>
</ol>
<table>
<thead>
<tr>
<th>依赖项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>vue-class-component</td>
<td>提供使用 Class 语法写 Vue 组件</td>
</tr>
<tr>
<td>vue-property-decorator</td>
<td>在 Class 语法基础之上提供了一些辅助装饰器</td>
</tr>
</tbody></table>
<ol start="2">
<li>devDependencies 依赖</li>
</ol>
<table>
<thead>
<tr>
<th>依赖项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>@typescript-eslint/eslint-plugin</td>
<td>使用 ESLint 校验 TypeScript 代码</td>
</tr>
<tr>
<td>@typescript-eslint/parser</td>
<td>将 TypeScript 转为 AST 供 ESLint 校验使用</td>
</tr>
<tr>
<td>@vue/cli-plugin-typescript</td>
<td>使用 TypeScript + ts-loader + fork-ts-checker-webpack-plugin 进行更快的类型检查</td>
</tr>
<tr>
<td>@vue/eslint-config-typescript</td>
<td>兼容 ESLint 的 TypeScript 校验规则</td>
</tr>
<tr>
<td>typescript</td>
<td>TypeScript 编译器，提供类型校验和转换 JavaScript 功能</td>
</tr>
</tbody></table>
<h4 id="TypeScript-配置文件-tsconfig-json"><a href="#TypeScript-配置文件-tsconfig-json" class="headerlink" title="TypeScript 配置文件 tsconfig.json"></a>TypeScript 配置文件 <code>tsconfig.json</code></h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;strict&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;jsx&quot;</span>: <span class="string">&quot;preserve&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;importHelpers&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;experimentalDecorators&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;skipLibCheck&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;allowSyntheticDefaultImports&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;types&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;webpack-env&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;@/*&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;src/*&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;lib&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">      <span class="string">&quot;dom&quot;</span>,</span><br><span class="line">      <span class="string">&quot;dom.iterable&quot;</span>,</span><br><span class="line">      <span class="string">&quot;scripthost&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;include&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;src/**/*.ts&quot;</span>,</span><br><span class="line">    <span class="string">&quot;src/**/*.tsx&quot;</span>,</span><br><span class="line">    <span class="string">&quot;src/**/*.vue&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tests/**/*.ts&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tests/**/*.tsx&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;exclude&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;node_modules&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="shims-vue-d-ts-文件的作用"><a href="#shims-vue-d-ts-文件的作用" class="headerlink" title="shims-vue.d.ts 文件的作用"></a>shims-vue.d.ts 文件的作用</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 主要用于 TypeScript 识别 .vue 文件模块</span></span><br><span class="line"><span class="comment">// TypeScript 默认不支持导入 .vue 模块。这个文件告诉 TypeScript 导入 .vue 文件模块都按 VueConstructor&lt;Vue&gt; 类型识别处理</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">module</span> <span class="string">&#x27;*.vue&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> Vue</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="shims-tsx-d-ts-文件的作用"><a href="#shims-tsx-d-ts-文件的作用" class="headerlink" title="shims-tsx.d.ts 文件的作用"></a>shims-tsx.d.ts 文件的作用</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 为 jsx 组件模板补充类型声明</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue, &#123; VNode &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">global</span> &#123;</span><br><span class="line">  <span class="keyword">namespace</span> JSX &#123;</span><br><span class="line">    <span class="comment">// tslint:disable no-empty-interface</span></span><br><span class="line">    <span class="keyword">interface</span> Element <span class="keyword">extends</span> VNode &#123;&#125;</span><br><span class="line">    <span class="comment">// tslint:disable no-empty-interface</span></span><br><span class="line">    <span class="keyword">interface</span> ElementClass <span class="keyword">extends</span> Vue &#123;&#125;</span><br><span class="line">    <span class="keyword">interface</span> IntrinsicElements &#123;</span><br><span class="line">      [elem: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="定义组件的方式"><a href="#定义组件的方式" class="headerlink" title="定义组件的方式"></a>定义组件的方式</h4><h5 id="使用-Options-APIs"><a href="#使用-Options-APIs" class="headerlink" title="使用 Options APIs"></a>使用 Options APIs</h5><ul>
<li>组件仍然可以使用以前的方式定义（导出组件选项对象，或者使用 Vue.extend()）</li>
<li>但是当我们导出的是一个普通的对象，此时 TypeScript 无法推断出对应的类型</li>
<li>至于 VSCode 可以推断出类型成员的原因是因为我们使用了 Vue 插件</li>
<li>这个插件明确知道我们这里导出的是一个 Vue 对象</li>
<li>所以我们必须使用 <code>Vue.extend()</code> 方法确保 TypeScript 能够有正常的类型推断</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> component = &#123;</span><br><span class="line">	<span class="comment">// 这里不会有类型推断</span></span><br><span class="line">    <span class="comment">// 因为 TypeScript 不能确认这是 Vue 组件的选项</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">    import Vue from &#x27;vue&#x27;</span><br><span class="line">    export default Vue.extend(&#123;</span><br><span class="line">        // 类型推断已启用</span><br><span class="line">        name:&#x27;Button&#x27;,</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                count: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="使用-Class-APIs-定义-Vue-组件"><a href="#使用-Class-APIs-定义-Vue-组件" class="headerlink" title="使用 Class APIs 定义 Vue 组件"></a>使用 Class APIs 定义 Vue 组件</h5><p><a class="link"   target="_blank" rel="noopener" href="https://class-component.vuejs.org/" >https://class-component.vuejs.org<i class="fas fa-external-link-alt"></i></a></p>
<p>在 TypeScript 下，Vue 组件可以使用一个继承自 Vue 类型的子类表示，这种类型需要使用 Component 装饰器去修饰</p>
<p>装饰器函数接收的参数就是以前的组件选项对象（data、props、methods之类）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 基于类的 Vue 组件--使用 vue-class-component 装饰器</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">    import Vue from &#x27;vue&#x27;</span><br><span class="line">    import Component from &#x27;vue-class-component&#x27;</span><br><span class="line"></span><br><span class="line">    // @Component 修饰符注明了此类为一个 Vue 组件</span><br><span class="line">    @Component(&#123;</span><br><span class="line">      // 所有的组件选项都可以放在这里</span><br><span class="line">      template: &#x27;&lt;button @click=&quot;onClick&quot;&gt;Click!&lt;/button&gt;&#x27;,</span><br><span class="line">      props:&#123;</span><br><span class="line">          size:String</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    export default class MyComponent extends Vue &#123;</span><br><span class="line">      // 初始数据可以直接声明为实例的 property</span><br><span class="line">      message: string = &#x27;Hello!&#x27;</span><br><span class="line"></span><br><span class="line">      // 组件方法也可以直接声明为实例的方法</span><br><span class="line">      onClick (): void &#123;</span><br><span class="line">        window.alert(this.message)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="关于装饰器语法"><a href="#关于装饰器语法" class="headerlink" title="关于装饰器语法"></a>关于装饰器语法</h5><p><a class="link"   target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/decorator" >https://es6.ruanyifeng.com/#docs/decorator<i class="fas fa-external-link-alt"></i></a></p>
<p>装饰器 是 ES 草案中的一个特性，不建议在生产环境使用</p>
<p>类的装饰器</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testable</span> (<span class="params">target</span>) </span>&#123;</span><br><span class="line">    target.isTestable = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@testable</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTestableClass</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(MyTestableClass.isTestable) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h5 id="使用-VuePropertyDecorator-创建-Vue-组件"><a href="#使用-VuePropertyDecorator-创建-Vue-组件" class="headerlink" title="使用 VuePropertyDecorator 创建 Vue 组件"></a>使用 VuePropertyDecorator 创建 Vue 组件</h5><p><a class="link"   target="_blank" rel="noopener" href="https://github.com/kaorun343/vue-property-decorator" >https://github.com/kaorun343/vue-property-decorator<i class="fas fa-external-link-alt"></i></a></p>
<p>该项目已经自动安装了</p>
<p><strong>个人建议 使用 Options APIs</strong>:</p>
<ul>
<li>Class 语法仅仅是一种写法而已，最终还是要转换为普通的组件数据结构</li>
<li>装饰器语法还没有正式定稿发布，建议了解即可，正式发布之后再使用</li>
</ul>
<h4 id="加入-Git-版本管理"><a href="#加入-Git-版本管理" class="headerlink" title="加入 Git 版本管理"></a>加入 Git 版本管理</h4><ol>
<li>创建远程仓库</li>
<li>将本地仓库推到线上</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;提交日志&#x27;</span></span><br><span class="line">git remote add origin 远程仓库地址</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<h4 id="项目目录结构说明"><a href="#项目目录结构说明" class="headerlink" title="项目目录结构说明"></a>项目目录结构说明</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"> .</span><br><span class="line"> ├── node_modules <span class="comment"># 第三⽅包存储⽬录</span></span><br><span class="line"> ├── public <span class="comment"># 静态资源⽬录，任何放置在 public ⽂件夹的静态资源都会被简单的复</span></span><br><span class="line">制，⽽不经过 webpack</span><br><span class="line"> │ ├── favicon.ico</span><br><span class="line"> │ └── index.html</span><br><span class="line"> ├── src</span><br><span class="line"> │ ├── assets <span class="comment"># 公共资源⽬录，放图⽚等资源</span></span><br><span class="line"> │ ├── components <span class="comment"># 公共组件⽬录</span></span><br><span class="line"> │ ├── router <span class="comment"># 路由相关模块</span></span><br><span class="line"> │ ├── store <span class="comment"># 容器相关模块</span></span><br><span class="line"> │ ├── views <span class="comment"># 路由⻚⾯组件存储⽬录</span></span><br><span class="line"> │ ├── App.vue <span class="comment"># 根组件，最终被替换渲染到 index.html ⻚⾯中 #app ⼊⼝</span></span><br><span class="line">节点</span><br><span class="line"> │ ├── main.ts <span class="comment"># 整个项⽬的启动⼊⼝模块</span></span><br><span class="line"> │ ├── shims-tsx.d.ts <span class="comment"># ⽀持以 .tsc 结尾的⽂件，在 Vue 项⽬中编写 jsx</span></span><br><span class="line">代码</span><br><span class="line"> │ └── shims-vue.d.ts <span class="comment"># 让 TypeScript 识别 .vue 模块</span></span><br><span class="line"> ├── .browserslistrc <span class="comment"># 指定了项⽬的⽬标浏览器的范围。这个值会被 @babel/pre</span></span><br><span class="line">set-<span class="keyword">env</span> 和 Autoprefixer ⽤来确定需要转译的 JavaScript 特性和需要添加的 C</span><br><span class="line">SS 浏览器前缀</span><br><span class="line"> ├── .editorconfig <span class="comment"># EditorConfig 帮助开发⼈员定义和维护跨编辑器（或IDE）</span></span><br><span class="line">的统⼀的代码⻛格</span><br><span class="line"> ├── .eslintrc.js <span class="comment"># ESLint 的配置⽂件</span></span><br><span class="line"> ├── .gitignore <span class="comment"># Git 的忽略配置⽂件，告诉Git项⽬中要忽略的⽂件或⽂件夹</span></span><br><span class="line"> ├── README.md <span class="comment"># 说明⽂档</span></span><br><span class="line"> ├── babel.config.js <span class="comment"># Babel 配置⽂件</span></span><br><span class="line"> ├── package-lock.json <span class="comment"># 记录安装时的包的版本号，以保证⾃⼰或其他⼈在 npm i</span></span><br><span class="line">nstall 时⼤家的依赖能保证⼀致</span><br><span class="line"> ├── package.json <span class="comment"># 包说明⽂件，记录了项⽬中使⽤到的第三⽅包依赖信息等内容</span></span><br><span class="line"> └── tsconfig.json <span class="comment"># TypeScript 配置⽂件</span></span><br></pre></td></tr></table></figure>

<h4 id="调整初始目录结构"><a href="#调整初始目录结构" class="headerlink" title="调整初始目录结构"></a>调整初始目录结构</h4><p>默认生成的目录结构不满足我们的开发需求，所以需要做一些自定义改动。</p>
<ul>
<li>删除初始化的默认文件</li>
<li>新增调整我们需要的目录结构</li>
</ul>
<p>修改 <code>App.vue</code> :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h1&gt;App&lt;/h1&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 根级路由出口 --&gt;</span><br><span class="line">        &lt;router-view /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>修改 <code>router/index.ts</code> :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRouter, &#123; RouteConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路由配置规则</span></span><br><span class="line"><span class="keyword">const</span> routes: <span class="built_in">Array</span>&lt;RouteConfig&gt; = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<p>删除默认示例文件：</p>
<ul>
<li>src/views/About.vue</li>
<li>src/views/Home.vue</li>
<li>src/components/HelloWorld.vue</li>
<li>src/assets/logo.png</li>
</ul>
<p>创建以下内容</p>
<ul>
<li>src/services 目录：接口模块</li>
<li>src/utils 目录：存储一些工具模块</li>
<li>src/styles 目录：存储一些样式资源</li>
</ul>
<p>调整后的目录结构如下：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── node_modules </span><br><span class="line">├── public </span><br><span class="line">│ ├── favicon.ico</span><br><span class="line">│ └── index.html</span><br><span class="line">├── src</span><br><span class="line">│ ├── assets </span><br><span class="line">│ ├── components </span><br><span class="line">│ ├── router </span><br><span class="line">│ ├── services </span><br><span class="line">│ ├── store </span><br><span class="line">│ ├── styles</span><br><span class="line">│ ├── utils</span><br><span class="line">│ ├── views</span><br><span class="line">│ ├── App.vue </span><br><span class="line">│ ├── main.ts </span><br><span class="line">│ ├── shims-tsx.d.ts </span><br><span class="line">│ └── shims-vue.d.ts </span><br><span class="line">├── .browserslistrc </span><br><span class="line">├── .editorconfig </span><br><span class="line">├── .eslintrc.js</span><br><span class="line">├── .gitignore </span><br><span class="line">├── README.md</span><br><span class="line">├── babel.config.js </span><br><span class="line">├── package-lock.json </span><br><span class="line">├── package.json </span><br><span class="line">└── tsconfig.json</span><br></pre></td></tr></table></figure>

<h3 id="风格指南"><a href="#风格指南" class="headerlink" title="风格指南"></a>风格指南</h3><p>本项⽬的⻛格指南主要是参照 vue 官⽅的[⻛格指南](<a class="link"   target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/index.html" >风格指南 — Vue.js (vuejs.org)<i class="fas fa-external-link-alt"></i></a>)。在真正开始使⽤该项⽬之前建议先阅读⼀遍指南， 这能帮助让你写出更规范和统⼀的代码。当然每个团队都会有所区别。其中⼤部分规则也都配置在了 <a class="link"   target="_blank" rel="noopener" href="https://github.com/vuejs/eslint-plugin-vue" >eslint-plugin-vue<i class="fas fa-external-link-alt"></i></a>之中，当没有遵循规则的时候会报错，详细内容⻅[eslint](<a class="link"   target="_blank" rel="noopener" href="https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/advanced/eslint.html" >ESLint | vue-element-admin (gitee.io)<i class="fas fa-external-link-alt"></i></a>)章节。 </p>
<p>当然也有⼀些特殊的规范，是不能被 eslint 校验的。需要⼈为的⾃⼰注意，并且来遵循。最主要的就是⽂ 件的命名规则，这⾥拿 vue-element-admin 来举例。</p>
<h4 id="Component"><a href="#Component" class="headerlink" title="Component"></a>Component</h4><p>所有的<code>Component</code>文件都是以大写开头，除了<code>index.vue</code></p>
<ul>
<li><code>@/components/BackToTop/index.vue </code></li>
<li><code>@/components/Charts/Line.vue </code></li>
<li><code>@/views/example/components/Button.vue</code></li>
</ul>
<h4 id="JavaScript-文件"><a href="#JavaScript-文件" class="headerlink" title="JavaScript 文件"></a>JavaScript 文件</h4><p>所有的<code>.js</code>文件都遵循横线连接（kebab-case)</p>
<ul>
<li><code>@/utils/open-window.js </code></li>
<li><code>@/views/svg-icons/require-icons.js </code></li>
<li><code>@/components/MarkdownEditor/default-options.js</code></li>
</ul>
<h4 id="Views"><a href="#Views" class="headerlink" title="Views"></a>Views</h4><p>在<code>views</code>文件下，代表路由的<code>.vue</code>文件都使用横线连接（kebab-case)，代表路由的文件夹也是使用同样的规则</p>
<ul>
<li><code>@/views/svg-icons/index.vue </code></li>
<li><code>@/views/svg-icons/require-icons.js</code></li>
</ul>
<p>使⽤横线连接 (kebab-case)来命名<code>views</code>主要是出于以下⼏个考虑。</p>
<ul>
<li>横线连接 (kebab-case) 也是官⽅推荐的命名规范之⼀ [⽂档 ](<a class="link"   target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/style-guide/index.html#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%86%99%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90" >风格指南 — Vue.js (vuejs.org)<i class="fas fa-external-link-alt"></i></a>)</li>
<li>views 下的 .vue ⽂件代表的是⼀个路由，所以它需要和 component 进⾏区分(component 都是⼤ 写开头) </li>
<li>⻚⾯的 url 也都是横线连接的，⽐如 <a class="link"   target="_blank" rel="noopener" href="https://www.xxx.admin/export-excel" >https://www.xxx.admin/export-excel<i class="fas fa-external-link-alt"></i></a> ，所以路由对应 的 view 应该要保持统⼀ </li>
<li>没有⼤⼩写敏感问题</li>
</ul>
<h3 id="代码规范和-ESLint"><a href="#代码规范和-ESLint" class="headerlink" title="代码规范和 ESLint"></a>代码规范和 ESLint</h3><p>不管是多⼈合作还是个⼈项⽬，代码规范都是很重要的。这样做不仅可以很⼤程度地避免基本语法错误， 也保证了代码的可读性。 </p>
<p>这⾥主要说明以下⼏点： </p>
<ul>
<li>代码格式规范介绍 </li>
<li>我们项⽬中配置的具体代码规范是什么 </li>
<li>遇到代码格式规范错误怎么办 </li>
<li>如何⾃定义代码格式校验规范</li>
</ul>
<h4 id="代码规范介绍"><a href="#代码规范介绍" class="headerlink" title="代码规范介绍"></a>代码规范介绍</h4><p>良好的代码格式规范更有利于： </p>
<ul>
<li><p>更好的多⼈协作 </p>
</li>
<li><p>更好的阅读 </p>
</li>
<li><p>更好的维护 …</p>
</li>
</ul>
<h4 id="标准是什么"><a href="#标准是什么" class="headerlink" title="标准是什么"></a>标准是什么</h4><p>没有绝对的标准，下⾯是⼀些⼤⼚商根据多数开发者的编码习惯制定的⼀些编码规范，仅供参考。</p>
<ul>
<li>自己用：[JavaScript Standard Style](<a class="link"   target="_blank" rel="noopener" href="https://standardjs.com/" >JavaScript Standard Style (standardjs.com)<i class="fas fa-external-link-alt"></i></a>)</li>
<li>工作大型团队用：[Airbnb JavaScript Style Guide](<a class="link"   target="_blank" rel="noopener" href="https://github.com/airbnb/javascript" >GitHub - airbnb/javascript: JavaScript Style Guide<i class="fas fa-external-link-alt"></i></a>)</li>
<li>工作大型团队用：[Google JavaScript Style Guide](<a class="link"   target="_blank" rel="noopener" href="https://google.github.io/styleguide/jsguide.html" >Google JavaScript Style Guide<i class="fas fa-external-link-alt"></i></a>)</li>
</ul>
<h4 id="如何约束代码规范"><a href="#如何约束代码规范" class="headerlink" title="如何约束代码规范"></a>如何约束代码规范</h4><p>只靠⼝头约定肯定是不⾏的，所以要利⽤⼯具来强制执⾏。 </p>
<ul>
<li>[JSLint ](<a class="link"   target="_blank" rel="noopener" href="https://www.jslint.com/" >JSLint: The JavaScript Code Quality Tool<i class="fas fa-external-link-alt"></i></a>)</li>
<li>[JSHint ](<a class="link"   target="_blank" rel="noopener" href="https://jshint.com/" >JSHint, a JavaScript Code Quality Tool<i class="fas fa-external-link-alt"></i></a>)</li>
<li>[ESLint](<a class="link"   target="_blank" rel="noopener" href="https://jshint.com/" >JSHint, a JavaScript Code Quality Tool<i class="fas fa-external-link-alt"></i></a>) …</li>
</ul>
<h4 id="项目中的代码规范是什么"><a href="#项目中的代码规范是什么" class="headerlink" title="项目中的代码规范是什么"></a>项目中的代码规范是什么</h4><p>ESLint 配置文件 <code>.eslintrc.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 插件：扩展了校验规则</span></span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/essential&#x27;</span>, <span class="comment">// eslint-plugin-vue</span></span><br><span class="line">    <span class="string">&#x27;@vue/standard&#x27;</span>, <span class="comment">// @vue/eslint-config-standard</span></span><br><span class="line">    <span class="string">&#x27;@vue/typescript/recommended&#x27;</span> <span class="comment">// @vue/eslint-config-typescript</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">ecmaVersion</span>: <span class="number">2020</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 自定义校验规则</span></span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;no-console&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;warn&#x27;</span> : <span class="string">&#x27;off&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;no-debugger&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;warn&#x27;</span> : <span class="string">&#x27;off&#x27;</span>,</span><br><span class="line">      <span class="comment">// 关闭 函数名与左括号之间的空格校验</span></span><br><span class="line">    <span class="string">&#x27;space-before-function-paren&#x27;</span>: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>eslint-plugin-vue</strong><ul>
<li>GitHub 仓库：<a class="link"   target="_blank" rel="noopener" href="https://github.com/vuejs/eslint-plugin-vue" >https://github.com/vuejs/eslint-plugin-vue <i class="fas fa-external-link-alt"></i></a></li>
<li>官⽅⽂档：<a class="link"   target="_blank" rel="noopener" href="https://eslint.vuejs.org/" >https://eslint.vuejs.org/ <i class="fas fa-external-link-alt"></i></a></li>
<li>该插件使我们可以使⽤ ESLint 检查 <code>.vue</code> ⽂件的 <code>&lt;template&gt;</code> 和 <code>&lt;script&gt;</code></li>
<li>查找语法错误</li>
<li>查找对 Vue.js 指令的错误使用</li>
<li>查找违反 Vue.js 样式指南的行为</li>
</ul>
</li>
<li><strong>@vue/eslint-config-standard</strong><ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://github.com/standard/eslint-plugin-standard" >eslint-plugin-standard <i class="fas fa-external-link-alt"></i></a></li>
<li>[JavaScript Standard Style](<a class="link"   target="_blank" rel="noopener" href="https://standardjs.com/" >JavaScript Standard Style (standardjs.com)<i class="fas fa-external-link-alt"></i></a>)</li>
</ul>
</li>
<li><strong>@vue/eslint-config-typescript</strong><ul>
<li>规则列表：<a class="link"   target="_blank" rel="noopener" href="https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin#supported-rules" >https://github.com/typescript-eslint/typescript-eslint/tree/master/packages/eslint-plugin#supported-rules<i class="fas fa-external-link-alt"></i></a> </li>
</ul>
</li>
</ul>
<h4 id="如何自定义代码格式校验规范"><a href="#如何自定义代码格式校验规范" class="headerlink" title="如何自定义代码格式校验规范"></a>如何自定义代码格式校验规范</h4><p><a class="link"   target="_blank" rel="noopener" href="https://eslint.bootcss.com/docs/user-guide/getting-started" >https://eslint.bootcss.com/docs/user-guide/getting-started<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;rules&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;semi&quot;</span>:[<span class="string">&quot;errors&quot;</span>,<span class="string">&quot;always&quot;</span>],</span><br><span class="line">        <span class="attr">&quot;quotes&quot;</span>:[<span class="string">&quot;errors&quot;</span>,<span class="string">&quot;double&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ESLint 附带有⼤量的规则。你可以使⽤注释或配置⽂件修改你项⽬中要使⽤的规则。要改变⼀个规则设 置，你必须将规则 ID 设置为下列值之⼀：</p>
<ul>
<li><code>&quot;off&quot;`` 或 </code>0``` - 关闭规则 </li>
<li><code>&quot;warn&quot; </code>或 <code>1</code> - 开启规则，使⽤警告级别的错误： <code>warn</code> (不会导致程序退出) </li>
<li><code>&quot;error&quot; </code>或 <code>2 </code>- 开启规则，使⽤错误级别的错误： <code>error</code> (当被触发的时候，程序会退出)</li>
</ul>
<p>为了在⽂件注释⾥配置规则，使⽤以下格式的注释：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint eqeqeq: &quot;off&quot;, curly: &quot;error&quot; */</span></span><br></pre></td></tr></table></figure>

<p>在这个例⼦⾥，<code> eqeqeq</code> 规则被关闭，<code>curly</code>规则被打开，定义为错误级别。你也可以使⽤对应的数字 定义规则严重程度：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint eqeqeq: 0, curly: 2 */</span></span><br></pre></td></tr></table></figure>

<p>这个例⼦和上个例⼦是⼀样的，只不过它是⽤的数字⽽不是字符串。<code> eqeqeq</code> 规则是关闭的， <code>curly</code> 规 则被设置为错误级别。 如果⼀个规则有额外的选项，你可以使⽤数组字⾯量指定它们，⽐如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint quotes: [&quot;error&quot;, &quot;double&quot;], curly: 2 */</span></span><br></pre></td></tr></table></figure>

<p>这条注释为规则 <code>quotes</code> 指定了 <code>“double”</code>选项。数组的第⼀项总是规则的严重程度（数字或字符串）。</p>
<p>还可以使⽤ <code>rules</code> 连同错误级别和任何你想使⽤的选项，在配置⽂件中进⾏规则配置。例如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;rules&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;eqeqeq&quot;</span>: <span class="string">&quot;off&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;curly&quot;</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;quotes&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;double&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置定义在插件中的⼀个规则的时候，你必须使⽤ <code>插件名/规则ID</code> 的形式。⽐如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span>:[</span><br><span class="line">        <span class="string">&quot;plugin1&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;rules&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;eqeqed&quot;</span>:<span class="string">&quot;off&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;curly&quot;</span>:<span class="string">&quot;error&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;quotes&quot;</span>:[<span class="string">&quot;error&quot;</span>,<span class="string">&quot;double&quot;</span>],</span><br><span class="line">        <span class="attr">&quot;plugin1/rule1&quot;</span>:<span class="string">&quot;error&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这些配置⽂件中，规则 <code>plugin1/rule1 </code>表示来⾃插件 <code>plugin1</code> 的 <code>rule1</code> 规则。你也可以使⽤ 这种格式的注释配置，⽐如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint &quot;plugin1/rule1&quot;: &quot;error&quot; */</span></span><br></pre></td></tr></table></figure>

<p>注意：当指定来⾃插件的规则时，确保删除 <code>eslint-plugin-</code> 前缀。ESLint 在内部只使⽤没有前缀的 名称去定位规则。</p>
<h4 id="vscode-配置-ESLint"><a href="#vscode-配置-ESLint" class="headerlink" title="vscode 配置 ESLint"></a>vscode 配置 ESLint</h4><h5 id="vscode-安装-eslint"><a href="#vscode-安装-eslint" class="headerlink" title="vscode  安装 eslint"></a>vscode  安装 eslint</h5><p>安装并配置完成 ESLint 后，我们继续回到 VSCode 进⾏扩展设置，依次点击 ⽂件 &gt; ⾸选项 &gt; 设置 打 开 VSCode 配置⽂件,添加如下配置：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;files.autoSave&quot;</span>: <span class="string">&quot;off&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint.validate&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;javascript&quot;</span>,</span><br><span class="line">        <span class="string">&quot;javascriptreact&quot;</span>,</span><br><span class="line">        <span class="string">&quot;vue-html&quot;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;vue&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;autoFix&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;eslint.run&quot;</span>: <span class="string">&quot;onSave&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint.autoFixOnSave&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="自动修复"><a href="#自动修复" class="headerlink" title="自动修复"></a>自动修复</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run lint -- --fix</span><br></pre></td></tr></table></figure>



<h4 id="Git-Hooks"><a href="#Git-Hooks" class="headerlink" title="Git Hooks"></a>Git Hooks</h4><h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><h4 id="导入-Element-组件库"><a href="#导入-Element-组件库" class="headerlink" title="导入 Element 组件库"></a>导入 Element 组件库</h4><p>Element，⼀套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌⾯端组件库。</p>
<ul>
<li>官⽹：<a class="link"   target="_blank" rel="noopener" href="https://element.eleme.cn/" >https://element.eleme.cn/ <i class="fas fa-external-link-alt"></i></a></li>
<li>GitHub 仓库：<a class="link"   target="_blank" rel="noopener" href="https://github.com/ElemeFE/element" >https://github.com/ElemeFE/element<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<ol>
<li><p>安装 element</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui</span><br></pre></td></tr></table></figure></li>
<li><p>在<code>main.ts</code>中导入配置（完整引入）</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI)</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>按需引入</p>
<p>借助 <a class="link"   target="_blank" rel="noopener" href="https://github.com/QingWei-Li/babel-plugin-component" >babel-plugin-component<i class="fas fa-external-link-alt"></i></a>，我们可以只引入需要的组件，以达到减小项目体积的目的。</p>
<p>首先，安装 babel-plugin-component：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-component -D</span><br></pre></td></tr></table></figure>

<p>然后，将 .babelrc 修改为:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;presets&quot;</span>: [[<span class="string">&quot;es2015&quot;</span>, &#123; <span class="string">&quot;modules&quot;</span>: <span class="literal">false</span> &#125;]],</span><br><span class="line">  <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;component&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;libraryName&quot;</span>: <span class="string">&quot;element-ui&quot;</span>,</span><br><span class="line">        <span class="string">&quot;styleLibraryName&quot;</span>: <span class="string">&quot;theme-chalk&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来，如果你只希望引入部分组件，比如 Button 和 Select，那么需要在 main.js 中写入以下内容：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Button, Select &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Vue.component(Button.name, Button);</span><br><span class="line">Vue.component(Select.name, Select);</span><br><span class="line"><span class="comment">/* 或写为</span></span><br><span class="line"><span class="comment"> * Vue.use(Button)</span></span><br><span class="line"><span class="comment"> * Vue.use(Select)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>全局配置</p>
<p>在引入 Element 时，可以传入一个全局配置对象。该对象目前支持 <code>size</code> 与 <code>zIndex</code> 字段。<code>size</code> 用于改变组件的默认尺寸，<code>zIndex</code> 设置弹框的初始 z-index（默认值：2000）。按照引入 Element 的方式，具体操作如下：</p>
<ul>
<li>完整引入 Element：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Element <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line">Vue.use(Element, &#123; <span class="attr">size</span>: <span class="string">&#x27;small&#x27;</span>, <span class="attr">zIndex</span>: <span class="number">3000</span> &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>按需引入 Element：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Vue.prototype.$ELEMENT = &#123; <span class="attr">size</span>: <span class="string">&#x27;small&#x27;</span>, <span class="attr">zIndex</span>: <span class="number">3000</span> &#125;;</span><br><span class="line">Vue.use(Button);</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="样式处理"><a href="#样式处理" class="headerlink" title="样式处理"></a>样式处理</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> src/styles</span><br><span class="line"> ├── index.scss <span class="comment"># 全局样式（在⼊⼝模块被加载⽣效）</span></span><br><span class="line"> ├── mixin.scss <span class="comment"># 公共的 mixin 混⼊（可以把重复的样式封装为 mixin 混⼊到复⽤</span></span><br><span class="line">的地⽅）</span><br><span class="line"> ├── reset.scss <span class="comment"># 重置基础样式</span></span><br><span class="line"> └── variables.scss <span class="comment"># 公共样式变量</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>variables.scss</code></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$primary-color</span>: <span class="number">#40586F</span>;</span><br><span class="line"><span class="variable">$success-color</span>: <span class="number">#51cf66</span>;</span><br><span class="line"><span class="variable">$warning-color</span>: <span class="number">#fcc419</span>;</span><br><span class="line"><span class="variable">$danger-color</span>: <span class="number">#ff6b6b</span>;</span><br><span class="line"><span class="variable">$info-color</span>: <span class="number">#868e96</span>; <span class="comment">// #22b8cf;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$body-bg</span>: <span class="number">#E9EEF3</span>; <span class="comment">// #f5f5f9;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$sidebar-bg</span>: <span class="number">#F8F9FB</span>;</span><br><span class="line"><span class="variable">$navbar-bg</span>: <span class="number">#F8F9FB</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$font-family</span>: system-ui, -apple-system, <span class="string">&quot;Segoe UI&quot;</span>, Roboto, Helvetica, Arial, sans-serif;</span><br></pre></td></tr></table></figure></li>
<li><p><code>index.scss</code></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;./variables.scss&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// globals</span></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="variable">$font-family</span>;</span><br><span class="line">  -webkit-text-size-adjust: <span class="number">100%</span>;</span><br><span class="line">  -webkit-tap-highlight-<span class="attribute">color</span>: rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="comment">// better Font Rendering</span></span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="variable">$body-bg</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// custom element theme</span></span><br><span class="line"><span class="variable">$--color-primary</span>: <span class="variable">$primary-color</span>;</span><br><span class="line"><span class="variable">$--color-success</span>: <span class="variable">$success-color</span>;</span><br><span class="line"><span class="variable">$--color-warning</span>: <span class="variable">$warning-color</span>;</span><br><span class="line"><span class="variable">$--color-danger</span>: <span class="variable">$danger-color</span>;</span><br><span class="line"><span class="variable">$--color-info</span>: <span class="variable">$info-color</span>;</span><br><span class="line"><span class="comment">// change font path, required</span></span><br><span class="line"><span class="variable">$--font-path</span>: <span class="string">&#x27;~element-ui/lib/theme-chalk/fonts&#x27;</span>;</span><br><span class="line"><span class="comment">// import element default theme</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;~element-ui/packages/theme-chalk/src/index&#x27;</span>;</span><br><span class="line"><span class="comment">// node_modules/element-ui/packages/theme-chalk/src/common/var.scss</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// overrides</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// .el-menu-item, .el-submenu__title &#123;</span></span><br><span class="line"><span class="comment">//   height: 50px;</span></span><br><span class="line"><span class="comment">//   line-height: 50px;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-pagination</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#868e96</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// components</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.status</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">width</span>: .<span class="number">875rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: .<span class="number">875rem</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line"></span><br><span class="line">  &amp;-primary &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$--color-primary</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-success &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$--color-success</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-warning &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$--color-warning</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-danger &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$--color-danger</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-info &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$--color-info</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>reset.scss</code></p>
</li>
<li><p><code>mixin.scss</code></p>
</li>
<li><p><code>main.ts</code> 中引入</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// index.scss文件中已经引入了</span></span><br><span class="line"><span class="comment">// import &#x27;element-ui/lib/theme-chalk/index.css&#x27; </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 加载全局样式</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./styles/index.scss&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI)</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="⽗组件改变⼦组件样式-深度选择器"><a href="#⽗组件改变⼦组件样式-深度选择器" class="headerlink" title="⽗组件改变⼦组件样式 深度选择器"></a>⽗组件改变⼦组件样式 深度选择器</h5><p>建议你使⽤ ::v-deep 的写法，它不仅兼容了 css 的 &gt;&gt;&gt; 写法，还兼容了 sass /deep/ 的写法。⽽且 它还是 vue 3.0 RFC 中指定的写法。 </p>
<p>⽽且原本 /deep/ 的写法也本身就被 Chrome 所废弃，你现在经常能在控制台中发现 Chrome 提示你 不要使⽤ /deep/ 的警告。</p>
<h5 id="共享全局样式变量"><a href="#共享全局样式变量" class="headerlink" title="共享全局样式变量"></a>共享全局样式变量</h5><p>全局注入 <code>variables.scss</code> 的变量</p>
<p>有的时候你想要向 webpack 的预处理器 loader 传递选项。你可以使用 <code>vue.config.js</code> 中的 <code>css.loaderOptions</code> 选项。比如你可以这样向所有 Sass/Less 样式传入共享的全局变量：</p>
<p>参考： <a class="link"   target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/css.html#%E5%90%91%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8-loader-%E4%BC%A0%E9%80%92%E9%80%89%E9%A1%B9" >https://cli.vuejs.org/zh/guide/css.html#%E5%90%91%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8-loader-%E4%BC%A0%E9%80%92%E9%80%89%E9%A1%B9<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">css</span>: &#123;</span><br><span class="line">    <span class="attr">loaderOptions</span>: &#123;</span><br><span class="line">      <span class="comment">// 默认情况下 `sass` 选项会同时对 `sass` 和 `scss` 语法同时生效</span></span><br><span class="line">      <span class="comment">// 因为 `scss` 语法在内部也是由 sass-loader 处理的</span></span><br><span class="line">      <span class="comment">// 但是在配置 `prependData` 选项的时候</span></span><br><span class="line">      <span class="comment">// `scss` 语法会要求语句结尾必须有分号，`sass` 则要求必须没有分号</span></span><br><span class="line">      <span class="comment">// 在这种情况下，我们可以使用 `scss` 选项，对 `scss` 语法进行单独配置</span></span><br><span class="line">      <span class="attr">scss</span>: &#123;</span><br><span class="line">        <span class="attr">additionalData</span>: <span class="string">`@import &quot;~@styles/variables.scss&quot;;`</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;App&lt;/h1&gt;</span><br><span class="line">    &lt;p class=&quot;text&quot;&gt;hello world&lt;/p&gt;</span><br><span class="line">    &lt;!--根级路由出口--&gt;</span><br><span class="line">    &lt;router-view /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">interface Foo &#123;</span><br><span class="line">  a: string</span><br><span class="line">  b: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Vue.extend(&#123;&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">// @import &#x27;~@/styles/variables.scss&#x27;;</span><br><span class="line">// 全局引入过，所以可以直接使用，不用再引入</span><br><span class="line">.text &#123;</span><br><span class="line">  color: $danger-color;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="服务端接口说明"><a href="#服务端接口说明" class="headerlink" title="服务端接口说明"></a>服务端接口说明</h3><p>后台为我们提供了数据接口，分别是：</p>
<ul>
<li><p><a class="link"   target="_blank" rel="noopener" href="http://eduboss.lagou.com/" >http://eduboss.lagou.com<i class="fas fa-external-link-alt"></i></a></p>
<p>用户名：15510792995   密码：111111<br>用户名： 18201288771  密码： 111111</p>
</li>
<li><p><a class="link"   target="_blank" rel="noopener" href="http://eduboss.lagou.com/boss/doc.html#/home" >http://eduboss.lagou.com/boss/doc.html#/home<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p><a class="link"   target="_blank" rel="noopener" href="http://edufront.lagou.com/" >http://edufront.lagou.com<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="http://113.31.105.128/front/doc.html#/home" >http://113.31.105.128/front/doc.html#/home<i class="fas fa-external-link-alt"></i></a></p>
</li>
</ul>
<p>这两个接口都没有提供 CORS 跨域请求，所以需要在客户端配置服务端代理处理跨域请求</p>
<p>配置客户端层⾯的服务端代理跨域可以参考官⽅⽂档中的说明： </p>
<ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#devserver-proxy" >https://cli.vuejs.org/zh/config/#devserver-proxy<i class="fas fa-external-link-alt"></i></a> </li>
<li><a class="link"   target="_blank" rel="noopener" href="https://github.com/chimurai/http-proxy-middleware" >https://github.com/chimurai/http-proxy-middleware<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<p>下面是具体的操作流程：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/boss&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;https://eduboss.lagou.com&#x27;</span>,</span><br><span class="line">        <span class="comment">// ws: true, // webSocket 协议</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span> <span class="comment">// 把请求头中的 host 配置为 target</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/front&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://edufront.lagou.com&#x27;</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="接口跨域问题"><a href="#接口跨域问题" class="headerlink" title="接口跨域问题"></a>接口跨域问题</h4><ul>
<li><p>cors ：生产环境可使用</p>
<p>我最推荐的也是我⼯作中在使⽤的⽅式就是： cors 全称为 Cross Origin Resource Sharing（跨域资 源共享）。这种⽅案对于前端来说没有什么⼯作量，和正常发送请求写法上没有任何区别，⼯作量基本都 在后端这⾥。每⼀次请求，浏览器必须先以 OPTIONS 请求⽅式发送⼀个预请求（也不是所有请求都会发 送 options，展开介绍 (<a class="link"   target="_blank" rel="noopener" href="https://panjiachen.github.io/awesome-bookmarks/blog/cs.html#cors" >点我CS | awesome-bookmarks (panjiachen.github.io)<i class="fas fa-external-link-alt"></i></a>），通过预检请求从⽽获知服务器端对跨源请求⽀持的 HTTP ⽅法。在确认 服务器允许该跨源请求的情况下，再以实际的 HTTP 请求⽅法发送那个真正的请求。推荐的原因是：只要 第⼀次配好了，之后不管有多少接⼝和项⽬复⽤就可以了，⼀劳永逸的解决了跨域问题，⽽且不管是开发 环境还是正式环境都能⽅便的使⽤。详细 MDN<a class="link"   target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS" >跨源资源共享（CORS） - HTTP | MDN (mozilla.org)<i class="fas fa-external-link-alt"></i></a> ⽂档</p>
</li>
<li><p>webpack 的 proxy 代理：正向代理，生产环境不能使用</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/dev-server/#devserver-proxy" >开发中 Server(devServer) | webpack 中文网 (webpackjs.com)<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p>nginx 反向代理：生产环境可使用</p>
</li>
</ul>
<h4 id="封装请求模块"><a href="#封装请求模块" class="headerlink" title="封装请求模块"></a>封装请求模块</h4><p>安装 <code>axios</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i axios</span><br></pre></td></tr></table></figure>

<p>创建 <code>src/utils/request.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户相关请求模块</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&#x27;qs&#x27;</span></span><br><span class="line"></span><br><span class="line">interface User &#123;</span><br><span class="line">  <span class="attr">phone</span>: string</span><br><span class="line">  <span class="attr">password</span>: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> login = <span class="function">(<span class="params">data: User</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/front/user/login&#x27;</span>,</span><br><span class="line">    <span class="comment">// qs 转化参数后，axios 会自动将请求格式设置为 x-www-form-urlencoded，所以不需要在设置 headers 的 content-type，key=value&amp;key=value</span></span><br><span class="line">    <span class="comment">// 不用 qs 转化，axios 默认发送的类型是 application/json &#123;key:value,key:value&#125;</span></span><br><span class="line">    <span class="comment">// 如果 data 是 formData 对象，则 content-type 是 multipart/form-data</span></span><br><span class="line">    <span class="attr">data</span>: qs.stringify(data)</span><br><span class="line">    <span class="comment">// headers: &#123;</span></span><br><span class="line">    <span class="comment">//   &#x27;content-type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getUserInfo = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/front/user/getInfo&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>请求方法封装</p>
<p><code> services/user.ts</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户相关请求模块</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&#x27;qs&#x27;</span></span><br><span class="line"></span><br><span class="line">interface User &#123;</span><br><span class="line">  <span class="attr">phone</span>: string</span><br><span class="line">  <span class="attr">password</span>: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> login = <span class="function">(<span class="params">data: User</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/front/user/login&#x27;</span>,</span><br><span class="line">    <span class="comment">// axios 默认发送的类型是 application/json 数据，这个接口的数据格式是 x-www-form-urlencoded,</span></span><br><span class="line">    <span class="comment">// 设置 headers,qs 序列化参数</span></span><br><span class="line">    <span class="attr">data</span>: qs.stringify(data),</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="请求数据格式转换-请求格式为-x-www-form-urlencoded-的处理方式"><a href="#请求数据格式转换-请求格式为-x-www-form-urlencoded-的处理方式" class="headerlink" title="请求数据格式转换,请求格式为 x-www-form-urlencoded 的处理方式"></a>请求数据格式转换,请求格式为 x-www-form-urlencoded 的处理方式</h4><p>axios 默认的请求数据格式为 <code>‘application/json&#39;</code>,如果接口支持的格式为其他需要进行转换</p>
<ul>
<li><p>安装 <code>qs</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i qs</span><br></pre></td></tr></table></figure></li>
<li><p>使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户相关请求模块</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&#x27;qs&#x27;</span></span><br><span class="line"></span><br><span class="line">interface User &#123;<span class="comment">/*  */</span></span><br><span class="line">  <span class="attr">phone</span>: string</span><br><span class="line">  <span class="attr">password</span>: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> login = <span class="function">(<span class="params">data: User</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/front/user/login&#x27;</span>, <span class="comment">// 这个接口的数据格式是 x-www-form-urlencoded,</span></span><br><span class="line">    <span class="comment">// qs 转化参数后，axios 会自动将请求格式设置为 x-www-form-urlencoded，所以不需要在设置 headers 的 content-type，key=value&amp;key=value</span></span><br><span class="line">    <span class="comment">// 不用 qs 转化，axios 默认发送的类型是 application/json &#123;key:value,key:value&#125;</span></span><br><span class="line">    <span class="comment">// 如果 data 是 formData 对象，则 content-type 是 multipart/form-data</span></span><br><span class="line">    <span class="attr">data</span>: qs.stringify(data)</span><br><span class="line">    <span class="comment">// headers: &#123;</span></span><br><span class="line">    <span class="comment">//   &#x27;content-type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><h4 id="初始化路由页面组件"><a href="#初始化路由页面组件" class="headerlink" title="初始化路由页面组件"></a>初始化路由页面组件</h4><p>views 文件夹下创建以下目录</p>
<table>
<thead>
<tr>
<th>路径</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>首页</td>
</tr>
<tr>
<td>/login</td>
<td>用户登录</td>
</tr>
<tr>
<td>/role</td>
<td>角色管理</td>
</tr>
<tr>
<td>/menu</td>
<td>菜单管理</td>
</tr>
<tr>
<td>/resource</td>
<td>资源管理</td>
</tr>
<tr>
<td>/course</td>
<td>课程管理</td>
</tr>
<tr>
<td>/user</td>
<td>用户管理</td>
</tr>
<tr>
<td>/advert</td>
<td>广告管理</td>
</tr>
<tr>
<td>/advert-space</td>
<td>广告位管理</td>
</tr>
</tbody></table>
<h4 id="路由和侧边栏"><a href="#路由和侧边栏" class="headerlink" title="路由和侧边栏"></a>路由和侧边栏</h4><p><code>router/index.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRouter, &#123; RouteConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路由配置规则</span></span><br><span class="line"><span class="keyword">const</span> routes: <span class="built_in">Array</span>&lt;RouteConfig&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">    <span class="comment">// 通过注释起个别名</span></span><br><span class="line">    <span class="comment">// 路由懒加载</span></span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;home&#x27; */</span> <span class="string">&#x27;@/views/home/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;login&#x27; */</span> <span class="string">&#x27;@/views/login/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/role&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;role&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;role&#x27; */</span> <span class="string">&#x27;@/views/role/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/menu&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;menu&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;menu&#x27; */</span> <span class="string">&#x27;@/views/menu/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/resource&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;resource&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;resource&#x27; */</span> <span class="string">&#x27;@/views/resource/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/course&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;course&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;course&#x27; */</span> <span class="string">&#x27;@/views/course/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/user&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;user&#x27; */</span> <span class="string">&#x27;@/views/user/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/advert&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;advert&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;advert&#x27; */</span> <span class="string">&#x27;@/views/advert/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/advert-space&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;advert-space&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;advert-space&#x27; */</span> <span class="string">&#x27;@/views/advert-space/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>, <span class="comment">// 现在放哪个位置都行，vue-router 内部会放到最后，建议放到最后</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;404&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;404&#x27; */</span> <span class="string">&#x27;@/views/error-page/404.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>



<h4 id="Layout-布局"><a href="#Layout-布局" class="headerlink" title="Layout 布局"></a>Layout 布局</h4><p>vue-router 嵌套路由 <a class="link"   target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/essentials/nested-routes.html" >https://router.vuejs.org/zh/guide/essentials/nested-routes.html<i class="fas fa-external-link-alt"></i></a></p>
<p>。。。借助 element  快速搭建</p>
<ol>
<li><code>layout/index.vue</code></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-container&gt;</span><br><span class="line">    &lt;el-aside width=&quot;200px&quot;&gt;</span><br><span class="line">      &lt;app-aside /&gt;</span><br><span class="line">    &lt;/el-aside&gt;</span><br><span class="line">    &lt;el-container&gt;</span><br><span class="line">      &lt;el-header&gt;</span><br><span class="line">        &lt;app-header /&gt;</span><br><span class="line">      &lt;/el-header&gt;</span><br><span class="line">      &lt;el-main&gt;</span><br><span class="line">        &lt;!-- 子路由出口 --&gt;</span><br><span class="line">        &lt;router-view /&gt;</span><br><span class="line">      &lt;/el-main&gt;</span><br><span class="line">    &lt;/el-container&gt;</span><br><span class="line">  &lt;/el-container&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import AppAside from &#x27;./components/app-aside.vue&#x27;</span><br><span class="line">import AppHeader from &#x27;./components/app-header.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default Vue.extend(&#123;</span><br><span class="line">  name: &#x27;LayoutIndex&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    AppAside,</span><br><span class="line">    AppHeader</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.el-container &#123;</span><br><span class="line">  min-height: 100vh;</span><br><span class="line">  min-width: 980px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-header &#123;</span><br><span class="line">  background-color: #f8f9fb;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-aside &#123;</span><br><span class="line">  background-color: #d3dce6;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-main &#123;</span><br><span class="line">  background-color: #e9eef3;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>侧边栏 <code>layout/components/app-aside.vue</code></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;aside&quot;&gt;</span><br><span class="line">    &lt;el-menu default-active=&quot;2&quot;</span><br><span class="line">             class=&quot;el-menu-vertical-demo&quot;</span><br><span class="line">             @open=&quot;handleOpen&quot;</span><br><span class="line">             @close=&quot;handleClose&quot;</span><br><span class="line">             background-color=&quot;#545c64&quot;</span><br><span class="line">             text-color=&quot;#fff&quot;</span><br><span class="line">             active-text-color=&quot;#ffd04b&quot;</span><br><span class="line">             router&gt;</span><br><span class="line">      &lt;el-submenu index=&quot;1&quot;&gt;</span><br><span class="line">        &lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">          &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span><br><span class="line">          &lt;span&gt;权限管理&lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;el-menu-item-group&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/role&quot;&gt;</span><br><span class="line">            &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &lt;span&gt;角色列表&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/menu&quot;&gt;</span><br><span class="line">            &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &lt;span&gt;菜单管理&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/resource&quot;&gt;</span><br><span class="line">            &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &lt;span&gt;资源管理&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">      &lt;/el-submenu&gt;</span><br><span class="line"></span><br><span class="line">      &lt;el-menu-item index=&quot;/course&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-menu&quot;&gt;&lt;/i&gt;</span><br><span class="line">        &lt;span slot=&quot;title&quot;&gt;课程管理&lt;/span&gt;</span><br><span class="line">      &lt;/el-menu-item&gt;</span><br><span class="line">      &lt;el-menu-item index=&quot;/user&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-document&quot;&gt;&lt;/i&gt;</span><br><span class="line">        &lt;span slot=&quot;title&quot;&gt;用户管理&lt;/span&gt;</span><br><span class="line">      &lt;/el-menu-item&gt;</span><br><span class="line">      &lt;el-submenu index=&quot;4&quot;&gt;</span><br><span class="line">        &lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">          &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span><br><span class="line">          &lt;span&gt;广告管理&lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;el-menu-item-group&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/advert&quot;&gt;</span><br><span class="line">            &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &lt;span&gt;广告列表&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">          &lt;el-menu-item index=&quot;/advert-space&quot;&gt;</span><br><span class="line">            &lt;i class=&quot;el-icon-setting&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &lt;span&gt;广告位管理&lt;/span&gt;</span><br><span class="line">          &lt;/el-menu-item&gt;</span><br><span class="line">        &lt;/el-menu-item-group&gt;</span><br><span class="line">      &lt;/el-submenu&gt;</span><br><span class="line">    &lt;/el-menu&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">export default Vue.extend(&#123;</span><br><span class="line">  name: &#x27;AppAside&#x27;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleOpen(key: string, keyPath: string): void &#123;</span><br><span class="line">      console.log(key, keyPath)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleClose(key: string, keyPath: string): void &#123;</span><br><span class="line">      console.log(key, keyPath)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.aside &#123;</span><br><span class="line">  .el-menu &#123;</span><br><span class="line">    min-height: 100vh;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>头部<code>layout/components/app-header.vue</code></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;header&quot;&gt;</span><br><span class="line">    &lt;el-breadcrumb separator-class=&quot;el-icon-arrow-right&quot;&gt;</span><br><span class="line">      &lt;el-breadcrumb-item :to=&quot;&#123; path: &#x27;/&#x27; &#125;&quot;&gt;首页&lt;/el-breadcrumb-item&gt;</span><br><span class="line">      &lt;el-breadcrumb-item&gt;活动管理&lt;/el-breadcrumb-item&gt;</span><br><span class="line">      &lt;el-breadcrumb-item&gt;活动列表&lt;/el-breadcrumb-item&gt;</span><br><span class="line">      &lt;el-breadcrumb-item&gt;活动详情&lt;/el-breadcrumb-item&gt;</span><br><span class="line">    &lt;/el-breadcrumb&gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-dropdown&gt;</span><br><span class="line">      &lt;span class=&quot;el-dropdown-link&quot;&gt;</span><br><span class="line">        &lt;el-avatar shape=&quot;square&quot;</span><br><span class="line">                   :size=&quot;40&quot;</span><br><span class="line">                   src=&quot;https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png&quot;&gt;&lt;/el-avatar&gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-arrow-down el-icon--right&quot;&gt;&lt;/i&gt;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">      &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt;</span><br><span class="line">        &lt;el-dropdown-item&gt;用户ID&lt;/el-dropdown-item&gt;</span><br><span class="line">        &lt;el-dropdown-item divided&gt;登出&lt;/el-dropdown-item&gt;</span><br><span class="line">      &lt;/el-dropdown-menu&gt;</span><br><span class="line">    &lt;/el-dropdown&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">export default Vue.extend(&#123;</span><br><span class="line">  name: &#x27;AppHeader&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.header &#123;</span><br><span class="line">  height: 100%;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: space-between;</span><br><span class="line">  .el-dropdown-link &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><a class="link"   target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN" >https://element.eleme.cn/#/zh-CN<i class="fas fa-external-link-alt"></i></a></p>
<p><code>router/index.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRouter, &#123; RouteConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&#x27;@/layout/index.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路由配置规则</span></span><br><span class="line"><span class="keyword">const</span> routes: <span class="built_in">Array</span>&lt;RouteConfig&gt; = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;login&#x27; */</span> <span class="string">&#x27;@/views/login/index.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: Layout,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,  <span class="comment">// 默认子路由，匹配到 / 时会默认渲染这个组件</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">        <span class="comment">// 通过注释起个别名</span></span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;home&#x27; */</span> <span class="string">&#x27;@/views/home/index.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/role&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;role&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;role&#x27; */</span> <span class="string">&#x27;@/views/role/index.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/menu&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;menu&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;menu&#x27; */</span> <span class="string">&#x27;@/views/menu/index.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/resource&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;resource&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;resource&#x27; */</span> <span class="string">&#x27;@/views/resource/index.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/course&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;course&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;course&#x27; */</span> <span class="string">&#x27;@/views/course/index.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/user&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;user&#x27; */</span> <span class="string">&#x27;@/views/user/index.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/advert&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;advert&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;advert&#x27; */</span> <span class="string">&#x27;@/views/advert/index.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/advert-space&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;advert-space&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;advert-space&#x27; */</span> <span class="string">&#x27;@/views/advert-space/index.vue&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;404&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:&#x27;404&#x27; */</span> <span class="string">&#x27;@/views/error-page/404.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="登录页面布局"><a href="#登录页面布局" class="headerlink" title="登录页面布局"></a>登录页面布局</h4><ul>
<li><p>布局</p>
</li>
<li><p>登录接口请求</p>
<ul>
<li><p>请求格式处理，axios 默认发送的类型是 application/json 数据，这个接口的数据格式是 x-www-form-urlencoded，设置 headers,qs 序列化参数</p>
</li>
<li><p>请求成功跳转到首页，提示登录成功</p>
</li>
<li><p>请求失败提示错误原因</p>
</li>
<li><p>表单校验 </p>
<p><a class="link"   target="_blank" rel="noopener" href="https://github.com/yiminghe/async-validator" >https://github.com/yiminghe/async-validator<i class="fas fa-external-link-alt"></i></a></p>
</li>
</ul>
</li>
<li><p>请求期间禁用按钮</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;login&quot;&gt;</span><br><span class="line">    &lt;h1&gt;Edu boss管理系统&lt;/h1&gt;</span><br><span class="line">    &lt;el-form ref=&quot;form&quot;</span><br><span class="line">             label-position=&quot;top&quot;</span><br><span class="line">             :model=&quot;form&quot;</span><br><span class="line">             :rules=&quot;rules&quot;</span><br><span class="line">             class=&quot;login-form&quot;</span><br><span class="line">             label-width=&quot;80px&quot;&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;手机号&quot;</span><br><span class="line">                    prop=&quot;phone&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.phone&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;密码&quot;</span><br><span class="line">                    prop=&quot;password&quot;&gt;</span><br><span class="line">        &lt;el-input type=&quot;password&quot;</span><br><span class="line">                  v-model=&quot;form.password&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;el-form-item&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot;</span><br><span class="line">                   class=&quot;login-btn&quot;</span><br><span class="line">                   :loading=&quot;isLoginLoading&quot;</span><br><span class="line">                   @click=&quot;onSubmit&quot;&gt;登录&lt;/el-button&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">    &lt;/el-form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import &#123; login &#125; from &#x27;@/services/user.ts&#x27;</span><br><span class="line">import &#123; Form &#125; from &#x27;element-ui&#x27;</span><br><span class="line">export default Vue.extend(&#123;</span><br><span class="line">  name: &#x27;LoginIndex&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      form: &#123;</span><br><span class="line">        phone: &#x27;18201288771&#x27;,</span><br><span class="line">        password: &#x27;111111&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line">        phone: [</span><br><span class="line">          &#123; required: true, message: &#x27;请输入手机号&#x27;, trigger: &#x27;blur&#x27; &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            pattern: /^1\d&#123;10&#125;$/,</span><br><span class="line">            message: &#x27;请输入正确的手机号&#x27;,</span><br><span class="line">            trigger: &#x27;blur&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        password: [</span><br><span class="line">          &#123; required: true, message: &#x27;请输入密码&#x27;, trigger: &#x27;blur&#x27; &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            // pattern: /^1\d&#123;10&#125;$/,</span><br><span class="line">            min: 6,</span><br><span class="line">            max: 18,</span><br><span class="line">            message: &#x27;长度在 6 到 18 个字符&#x27;,</span><br><span class="line">            trigger: &#x27;blur&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      isLoginLoading: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async onSubmit() &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        // 1. 表单验证</span><br><span class="line">        // this.$refs.form.validate()</span><br><span class="line">        await (this.$refs.form as Form).validate()</span><br><span class="line">        // 登录按钮显示 loading</span><br><span class="line">        this.isLoginLoading = true</span><br><span class="line">        // 2. 验证通过-提交表单</span><br><span class="line">        const &#123; data &#125; = await login(this.form)</span><br><span class="line">        // 3.处理请求结果</span><br><span class="line">        //   失败：给出提示</span><br><span class="line">        if (data.state !== 1) &#123;</span><br><span class="line">          this.$message.error(data.message)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          //   成功：跳转到首页</span><br><span class="line">          this.$router.push(&#123;</span><br><span class="line">            name: &#x27;home&#x27;</span><br><span class="line">          &#125;)</span><br><span class="line">          this.$message.success(&#x27;登录成功&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        this.$message.error(&#x27;登录失败&#x27; + err)</span><br><span class="line">      &#125;</span><br><span class="line">      // 结束登录按钮 loading</span><br><span class="line">      this.isLoginLoading = false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.login &#123;</span><br><span class="line">  height: 100vh;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  .login-form &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    background: #ffffff;</span><br><span class="line">    padding: 20px;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    .login-btn &#123;</span><br><span class="line">      width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h4><p>当打包构建应⽤时，Javascript 包会变得⾮常⼤，影响⻚⾯加载速度。如果我们能把不同路由对应的组件 分割成不同的代码块，然后当路由被访问的时候才加载对应组件，这样就更加⾼效了。 </p>
<p>结合 Vue 的异步组件和 Webpack 的代码分割功能，轻松实现路由组件的懒加载。如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Foo = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &#x27;foo&#x27; */</span> <span class="string">&#x27;./Foo.vue&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>当你的项⽬⻚⾯越来越多之后，在开发环境之中使⽤ lazy-loading 会变得不太合适，每次更改代码触 发热更新都会变得⾮常的慢。所以建议只在⽣产环境之中使⽤路由懒加载功能。</p>
<ol>
<li>安装依赖 <code>npm install babel-plugin-dynamic-import-node -S -D </code></li>
<li>在 <code>babel.config.js</code> 中添加插件</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="attr">presets</span>: [<span class="string">&#x27;@vue/cli-plugin-babel/preset&#x27;</span>],</span><br><span class="line">    <span class="attr">env</span>:&#123;</span><br><span class="line">        <span class="attr">development</span>:&#123;</span><br><span class="line">            <span class="attr">plugins</span>:[<span class="string">&#x27;dynamic-import-node&#x27;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="用户登录和身份认证"><a href="#用户登录和身份认证" class="headerlink" title="用户登录和身份认证"></a>用户登录和身份认证</h2><h4 id="用户登录状态存储"><a href="#用户登录状态存储" class="headerlink" title="用户登录状态存储"></a>用户登录状态存储</h4><ol>
<li><p>用户登录成功，记录登录状态，登录状态存放到 vuex 容器中，容器中的数据方便共享，组件间使用方便</p>
<p><code>views/login/index.vue</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$store.commit(<span class="string">&#x27;setUser&#x27;</span>, data.content)</span><br></pre></td></tr></table></figure></li>
<li><p>数据持久化，为了防止页面刷新数据丢失，存放到本地存储</p>
<p><code>store/index.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="comment">// 类型警告报错解决 || &#x27;null&#x27;</span></span><br><span class="line">    <span class="attr">user</span>: <span class="built_in">JSON</span>.parse(<span class="built_in">window</span>.localStorage.getItem(<span class="string">&#x27;user&#x27;</span>) || <span class="string">&#x27;null&#x27;</span>) <span class="comment">// 当前登录状态</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="function"><span class="title">setUser</span>(<span class="params">state, payload</span>)</span> &#123;</span><br><span class="line">      state.user = <span class="built_in">JSON</span>.parse(payload)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 数据持久化，为了防止页面刷新数据丢失，存放到本地存储</span></span><br><span class="line">      <span class="comment">// 本地存储只能存放 字符串</span></span><br><span class="line">      <span class="built_in">window</span>.localStorage.setItem(<span class="string">&#x27;user&#x27;</span>, payload)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>访问需要登录的页面时，判断有没有登录状态 路由守卫</p>
<p>使用路由元信息</p>
<p>从哪跳转登录页面，登录成功之后跳转回去</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes: <span class="built_in">Array</span>&lt;RouteConfig&gt; = [</span><br><span class="line">    ...</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: Layout,</span><br><span class="line">        <span class="attr">meta</span>: &#123;</span><br><span class="line">          <span class="attr">requiresAuth</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">children</span>:[...]</span><br><span class="line">     &#125;</span><br><span class="line">    ...</span><br><span class="line">]</span><br><span class="line"><span class="comment">// 访问需要登录的页面时，判断有没有登录状态</span></span><br><span class="line"><span class="comment">// 全局前置守卫</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// to.matched 是一个数组（匹配到的路由记录）</span></span><br><span class="line">  <span class="comment">// 判断匹配到的路由是否需要登录权限，只要一个匹配到就是，因父路由需要的话子路由也需要</span></span><br><span class="line">  <span class="keyword">if</span> (to.matched.some(<span class="function"><span class="params">record</span> =&gt;</span> record.meta.requiresAuth)) &#123;</span><br><span class="line">    <span class="comment">// 判断登录状态</span></span><br><span class="line">    <span class="keyword">if</span> (!store.state.user) &#123;</span><br><span class="line">      next(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">        <span class="comment">// 通过 url 传递查询字符串参数</span></span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">redirect</span>: to.fullPath <span class="comment">// 把登录成功需要返回的页面告诉登录页面</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  next() <span class="comment">// 允许通过</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>登录页面：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 登录成功，记录登录状态，状态需要能够全局访问，vuex</span></span><br><span class="line"><span class="built_in">this</span>.$store.commit(<span class="string">&#x27;setUser&#x27;</span>, data.content)</span><br><span class="line"><span class="comment">// 2. 访问需要登录的页面时，判断有没有登录状态 路由守卫</span></span><br><span class="line"><span class="comment">//   成功：跳转到首页</span></span><br><span class="line"><span class="built_in">this</span>.$router.push((<span class="built_in">this</span>.$route.query.redirect <span class="keyword">as</span> string) || <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line"><span class="built_in">this</span>.$message.success(<span class="string">&#x27;登录成功&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>头部信息获取</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store/index.ts&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getUserInfo = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/front/user/getInfo&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="attr">Authorization</span>: store.state.user.access_token</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>设置统一 token</p>
<p>请求拦截器里设置</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 请求拦截器</span></span><br><span class="line">request.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 改写 config 配置信息来实现业务功能的统一处理</span></span><br><span class="line">  <span class="keyword">const</span> &#123; user &#125; = store.state</span><br><span class="line">  <span class="keyword">if</span> (user &amp;&amp; user.access_token) &#123;</span><br><span class="line">    config.headers = &#123;</span><br><span class="line">      <span class="attr">Authorization</span>: user.access_token</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 一定要返回 config,否则请求发不出去了</span></span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>退出登录</p>
<ul>
<li><p>给组件注册原生事件 .native 修饰符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-dropdown-item divided @click.native=&quot;handleLogout&quot;&gt;登出&lt;/el-dropdown-item&gt;</span><br><span class="line"></span><br><span class="line">handleLogout() &#123;</span><br><span class="line">      this.$confirm(&#x27;确认退出吗?&#x27;, &#x27;退出提示&#x27;, &#123;</span><br><span class="line">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class="line">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class="line">        type: &#x27;warning&#x27;</span><br><span class="line">      &#125;)</span><br><span class="line">        .then(() =&gt; &#123;</span><br><span class="line">          this.$store.commit(&#x27;setUser&#x27;, null)</span><br><span class="line">          this.$router.push(&#123;</span><br><span class="line">            name: &#x27;login&#x27;</span><br><span class="line">          &#125;)</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &#x27;success&#x27;,</span><br><span class="line">            message: &#x27;退出成功!&#x27;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(() =&gt; &#123;</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &#x27;info&#x27;,</span><br><span class="line">            message: &#x27;已取消退出&#x27;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h4 id="身份认证"><a href="#身份认证" class="headerlink" title="身份认证"></a>身份认证</h4><h5 id="Token-过期"><a href="#Token-过期" class="headerlink" title="Token 过期"></a>Token 过期</h5><p>Token 过期是根据后台返回的信息判断的，后台会返回 401</p>
<ul>
<li><p>可以让用户重新登录</p>
</li>
<li><p>刷新 Token</p>
<ul>
<li><p>在请求发起前拦截每个请求，判断 Token 的有效时间是否已过期，若已过期，则将请求挂起，先刷新 token 后在继续请求</p>
<p>优点：在请求前拦截，能节省请求，省流量</p>
<p>缺点：需要后端额外提供一个 token 过期时间的字段，使用了本地时间判断，若本地时间被篡改，特别是本地时间比服务器时间慢时，拦截会失败</p>
</li>
<li><p>不在请求前拦截，而是拦截返回后的数据，先发起请求，接口返回过期后，先刷新 token ，再进行一次重试</p>
<p>优点：不需额外的 token 过期字段，不需判断时间</p>
<p>缺点：会消耗多一次请求，耗流量</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">登录接口响应数据：</span><br><span class="line">	access_token：获取需要授权的接口数据</span><br><span class="line">	expires_in：access_token过期时间</span><br><span class="line">	refresh_token：刷新获取新的 access_token</span><br><span class="line">access_token 有过期时间以及时间较短：</span><br><span class="line">	为了安全</span><br></pre></td></tr></table></figure>

<h5 id="axios-错误处理-错误消息提示"><a href="#axios-错误处理-错误消息提示" class="headerlink" title="axios 错误处理 - 错误消息提示"></a>axios 错误处理 - 错误消息提示</h5><p><strong>如果是自定义状态码，错误处理就写到第一个回调</strong></p>
<p><strong>下面几项为：第二个回调</strong></p>
<p><strong>请求收到响应了，但是状态码 超出 2xx</strong></p>
<ul>
<li><p>400 - 请求参数错误</p>
</li>
<li><p>401 - token 无效(没有，过期，无效)</p>
<ul>
<li>如果有 refresh_token ,则使用refresh_token获取新的 access_token</li>
</ul>
<p>​       成功了 -&gt; 把本次失败的请求重新发出去</p>
<p>​       失败了 -&gt; 跳转登录页面重新登录获取新的 token</p>
<ul>
<li>没有，则直接跳转登录页面</li>
</ul>
</li>
<li><p>403 - 没有权限</p>
</li>
<li><p>404 - 请求资源不存在</p>
</li>
<li><p>500 - 服务端错误</p>
</li>
</ul>
<p><strong>请求发出去了，但是没有收到响应</strong></p>
<p><strong>请求的时候设置请求时发生了一些事情，触发了错误</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 响应拦截器</span></span><br><span class="line">request.interceptors.response.use(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 状态码为 2xx</span></span><br><span class="line">  <span class="comment">// 如果是自定义状态码，错误处理就写到这里</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response</span><br><span class="line">&#125;, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 超出 2xx 状态码</span></span><br><span class="line">  <span class="comment">// 如果是 HTTP 状态码，错误处理就写到这里</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (error.response) &#123; <span class="comment">// 请求收到响应了，但是状态码 超出 2xx</span></span><br><span class="line">    <span class="comment">// const errMsgObj = &#123;</span></span><br><span class="line">    <span class="comment">//   &#x27;400&#x27;: &#x27;请求参数错误&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;401&#x27;: &#x27;&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;403&#x27;: &#x27;&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;404&#x27;: &#x27;&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;500&#x27;: &#x27;&#x27;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// let &#123; status &#125; = error.response</span></span><br><span class="line">    <span class="comment">// status = status + &#x27;&#x27;</span></span><br><span class="line">    <span class="comment">// Message.error(errMsgObj[status])</span></span><br><span class="line">    <span class="keyword">const</span> &#123; status &#125; = error.response</span><br><span class="line">    <span class="keyword">if</span> (status === <span class="number">400</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;请求参数错误&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status === <span class="number">401</span>) &#123;</span><br><span class="line">      <span class="comment">// token 无效(没有，过期，无效)</span></span><br><span class="line">      <span class="comment">// 如果有 refresh_token ,则使用refresh_token获取新的 access_token</span></span><br><span class="line">      <span class="comment">// 成功了 -&gt; 把本次失败的请求重新发出去</span></span><br><span class="line">      <span class="comment">// 失败了 -&gt; 跳转登录页面重新登录获取新的 token</span></span><br><span class="line">      <span class="comment">// 没有，则直接跳转登录页面</span></span><br><span class="line">      <span class="keyword">if</span> (!store.state.user) &#123;</span><br><span class="line">        redirectLogin()</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 刷新 token</span></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 通过 axios.create() 发送请求，不用 request ,避免死循环</span></span><br><span class="line">        <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> axios.create()(&#123;</span><br><span class="line">          <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&#x27;/front/user/refresh_token&#x27;</span>,</span><br><span class="line">          <span class="attr">data</span>: qs.stringify(&#123;</span><br><span class="line">            <span class="attr">refreshtoken</span>: store.state.user.refresh_token</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 成功了 -&gt; 更新新的token,把本次失败的请求重新发出去</span></span><br><span class="line">        store.commit(<span class="string">&#x27;setUser&#x27;</span>, data.content)</span><br><span class="line">        <span class="comment">// error.config -&gt; 失败请求的配置信息</span></span><br><span class="line">        <span class="keyword">return</span> request(error.config)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="comment">// 失败了 -&gt; 清除当前用户登录状态，跳转登录页面</span></span><br><span class="line">        store.commit(<span class="string">&#x27;setUser&#x27;</span>, <span class="literal">null</span>)</span><br><span class="line">        redirectLogin()</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">if</span> (status === <span class="number">403</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;没有权限，请联系管理员&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">if</span> (status === <span class="number">404</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;请求资源不存在&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">if</span> (status &gt;= <span class="number">500</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;服务端错误，请联系管理员&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.request) &#123; <span class="comment">// 请求发出去了，但是没有收到响应</span></span><br><span class="line">    Message.error(<span class="string">&#x27;请求超时，请刷新重试&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123; <span class="comment">// 请求的时候设置请求时发生了一些事情，触发了错误</span></span><br><span class="line">    Message.error(<span class="string">`请求失败：<span class="subst">$&#123;error.message&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 请求失败的错误对象抛出，扔给上一个调用者</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h5 id="多次请求"><a href="#多次请求" class="headerlink" title="多次请求"></a>多次请求</h5><ul>
<li><p>多个请求同时发，会触发多以请求刷新 Token</p>
</li>
<li><p>refresh 只能请求一次，不然会出错</p>
</li>
<li><p>多个请求失败，只刷新一次 token ,重新请求 会把 其他的请求漏掉</p>
</li>
<li><p>思路：定义一个数组，定义一个刷新状态，1. 如果是刷新状态，则将请求挂起存放到数组中（返回一个promise，数组中 push 一个回调函数，回调函数里调用 promise的resolve，resolve里真正触发请求发送），2. 如果是非刷新状态，则触发刷新 token请求，请求成功则遍历 requests 数组调用其回调函数，重置 requests 数组，重新发送当前失败请求</p>
</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">refreshToken</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.create()(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/front/user/refresh_token&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: qs.stringify(&#123;</span><br><span class="line">      <span class="attr">refreshtoken</span>: store.state.user.refresh_token</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 响应拦截器</span></span><br><span class="line"><span class="keyword">let</span> isRefreshing = <span class="literal">false</span> <span class="comment">// 控制刷新 token 的状态</span></span><br><span class="line"><span class="keyword">let</span> requests: <span class="built_in">any</span>[] = [] <span class="comment">// 存储刷新 token 期间过来的请求</span></span><br><span class="line">request.interceptors.response.use(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 状态码为 2xx</span></span><br><span class="line">  <span class="comment">// 如果是自定义状态码，错误处理就写到这里</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response</span><br><span class="line">&#125;, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 超出 2xx 状态码</span></span><br><span class="line">  <span class="comment">// 如果是 HTTP 状态码，错误处理就写到这里</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (error.response) &#123; <span class="comment">// 请求收到响应了，但是状态码 超出 2xx</span></span><br><span class="line">    <span class="comment">// const errMsgObj = &#123;</span></span><br><span class="line">    <span class="comment">//   &#x27;400&#x27;: &#x27;请求参数错误&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;401&#x27;: &#x27;&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;403&#x27;: &#x27;&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;404&#x27;: &#x27;&#x27;,</span></span><br><span class="line">    <span class="comment">//   &#x27;500&#x27;: &#x27;&#x27;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// let &#123; status &#125; = error.response</span></span><br><span class="line">    <span class="comment">// status = status + &#x27;&#x27;</span></span><br><span class="line">    <span class="comment">// Message.error(errMsgObj[status])</span></span><br><span class="line">    <span class="keyword">const</span> &#123; status &#125; = error.response</span><br><span class="line">    <span class="keyword">if</span> (status === <span class="number">400</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;请求参数错误&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status === <span class="number">401</span>) &#123;</span><br><span class="line">      <span class="comment">// token 无效(没有，过期，无效)</span></span><br><span class="line">      <span class="comment">// 如果有 refresh_token ,则使用refresh_token获取新的 access_token</span></span><br><span class="line">      <span class="comment">// 成功了 -&gt; 把本次失败的请求重新发出去</span></span><br><span class="line">      <span class="comment">// 失败了 -&gt; 跳转登录页面重新登录获取新的 token</span></span><br><span class="line">      <span class="comment">// 没有，则直接跳转登录页面</span></span><br><span class="line">      <span class="keyword">if</span> (!store.state.user) &#123;</span><br><span class="line">        redirectLogin()</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 目前没有在刷新 token ,则尝试刷新 token</span></span><br><span class="line">      <span class="keyword">if</span> (!isRefreshing) &#123;</span><br><span class="line">        isRefreshing = <span class="literal">true</span> <span class="comment">// 开启刷新状态</span></span><br><span class="line">        <span class="comment">// 刷新 token</span></span><br><span class="line">        <span class="keyword">return</span> refreshToken().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (!res.data.success) &#123;</span><br><span class="line">            <span class="comment">// 失败</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;刷新 Token 失败&#x27;</span>)</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// 成功了 -&gt; 更新新的token,把本次失败的请求重新发出去</span></span><br><span class="line">          store.commit(<span class="string">&#x27;setUser&#x27;</span>, res.data.content)</span><br><span class="line">          <span class="comment">// error.config -&gt; 失败请求的配置信息</span></span><br><span class="line">          <span class="comment">// 把 requests 数组队列中的请求重新发出去</span></span><br><span class="line">          requests.forEach(<span class="function"><span class="params">cb</span> =&gt;</span> cb())</span><br><span class="line">          <span class="comment">// 重置 requests 数组</span></span><br><span class="line">          requests = []</span><br><span class="line">          <span class="keyword">return</span> request(error.config)</span><br><span class="line">        &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 失败了 -&gt; 清除当前用户登录状态，跳转登录页面</span></span><br><span class="line">          store.commit(<span class="string">&#x27;setUser&#x27;</span>, <span class="literal">null</span>)</span><br><span class="line">          redirectLogin()</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">        &#125;).finally(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          isRefreshing = <span class="literal">false</span> <span class="comment">// 重置刷新状态</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 刷新状态下，把请求挂起，放到 requests 数组中</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        requests.push(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          resolve(request(error.config))</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">if</span> (status === <span class="number">403</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;没有权限，请联系管理员&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">if</span> (status === <span class="number">404</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;请求资源不存在&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">if</span> (status &gt;= <span class="number">500</span>) &#123;</span><br><span class="line">      Message.error(<span class="string">&#x27;服务端错误，请联系管理员&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.request) &#123; <span class="comment">// 请求发出去了，但是没有收到响应</span></span><br><span class="line">    Message.error(<span class="string">&#x27;请求超时，请刷新重试&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123; <span class="comment">// 请求的时候设置请求时发生了一些事情，触发了错误</span></span><br><span class="line">    Message.error(<span class="string">`请求失败：<span class="subst">$&#123;error.message&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 请求失败的错误对象抛出，扔给上一个调用者</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="配置环境变量-1"><a href="#配置环境变量-1" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>知识点：</p>
<ul>
<li>配置 Vue 项目中的环境变量</li>
<li>[dotenv](<a class="link"   target="_blank" rel="noopener" href="https://github.com/motdotla/dotenv" >GitHub - motdotla/dotenv: Loads environment variables from .env for nodejs projects.<i class="fas fa-external-link-alt"></i></a>)</li>
</ul>
<p><code>.env.development</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VUE_APP_API=http://eduboss.lagou.com</span><br></pre></td></tr></table></figure>



<p><code>.env.production</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VUE_APP_API=http://eduboss.lagou.com</span><br></pre></td></tr></table></figure>



<h2 id="用户权限"><a href="#用户权限" class="headerlink" title="用户权限"></a>用户权限</h2><ul>
<li><p>菜单列表</p>
</li>
<li><p>资源列表</p>
</li>
<li><p>角色列表</p>
</li>
<li><p>用户管理</p>
</li>
</ul>
<h2 id="课程管理"><a href="#课程管理" class="headerlink" title="课程管理"></a>课程管理</h2><h2 id="发布部署"><a href="#发布部署" class="headerlink" title="发布部署"></a>发布部署</h2><h2 id="项目中遇到的问题"><a href="#项目中遇到的问题" class="headerlink" title="项目中遇到的问题"></a>项目中遇到的问题</h2><h3 id="vscode-关闭-单引号转换为-双引号的问题"><a href="#vscode-关闭-单引号转换为-双引号的问题" class="headerlink" title="vscode 关闭 单引号转换为 双引号的问题"></a>vscode 关闭 单引号转换为 双引号的问题</h3><p>项目根目录 创建 <code>.prettierrc.json</code>文件</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;singleQuote&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;semi&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="core-js-报错"><a href="#core-js-报错" class="headerlink" title="core-js 报错"></a>core-js 报错</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install core-js@3 --save</span><br></pre></td></tr></table></figure>

<h3 id="TS-校验报错"><a href="#TS-校验报错" class="headerlink" title="TS 校验报错"></a>TS 校验报错</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$refs.form.validate()</span><br></pre></td></tr></table></figure>

<p>Property ‘validate’ does not exist on type ‘Vue | Element | (Vue | Element)[]’. </p>
<p>Property ‘validate’ does not exist on type ‘Vue’.</p>
<p>解决方法：</p>
<ol>
<li><p>强制将 this.$refs.form 转换为 any 类型，不推荐</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="built_in">this</span>.$refs.form <span class="keyword">as</span> any).validate()</span><br></pre></td></tr></table></figure></li>
<li><p>标注正确的类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Form &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line">(<span class="built_in">this</span>.$refs.form <span class="keyword">as</span> Form).validate()</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="上传文件-及-上传进度条"><a href="#上传文件-及-上传进度条" class="headerlink" title="上传文件 及 上传进度条"></a>上传文件 及 上传进度条</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> upload = <span class="function">(<span class="params">data: any, onUploadProgress: (progressEvent: ProgressEvent) =&gt; <span class="keyword">void</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 该接口要求的请求数据类型是 multipart/form-data</span></span><br><span class="line">  <span class="comment">// 所以需要提交 FormData 数据对象</span></span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/boss/course/upload&#x27;</span>,</span><br><span class="line">    data,</span><br><span class="line">    <span class="comment">// HTML5新增的上传响应事件 : progress</span></span><br><span class="line">    onUploadProgress</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">1. 组件需要根据绑定的数据进行图片预览</span><br><span class="line">2. 组件需要把上传成功的图片地址同步到绑定的数据中</span><br><span class="line">v-model 的本质还是父子组件通信</span><br><span class="line"> 给子组件传递一个 value 的数据</span><br><span class="line"> 默认监听 input 事件，修改绑定的数据</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;course-upload&quot;&gt;</span><br><span class="line">    &lt;el-progress v-if=&quot;isUploading&quot;</span><br><span class="line">                 type=&quot;circle&quot;</span><br><span class="line">                 :percentage=&quot;percentage&quot;</span><br><span class="line">                 :width=&quot;178&quot;</span><br><span class="line">                 :status=&quot;percentage === 100 ? &#x27;success&#x27; : undefined&quot;&gt;</span><br><span class="line">    &lt;/el-progress&gt;</span><br><span class="line">    &lt;el-upload v-else</span><br><span class="line">               class=&quot;avatar-uploader&quot;</span><br><span class="line">               action=&quot;/boss/course/upload&quot;</span><br><span class="line">               :http-request=&quot;handleUpload&quot;</span><br><span class="line">               :show-file-list=&quot;false&quot;</span><br><span class="line">               :before-upload=&quot;beforeAvatarUpload&quot;&gt;</span><br><span class="line">      &lt;img v-if=&quot;imageUrl&quot;</span><br><span class="line">           :src=&quot;imageUrl&quot;</span><br><span class="line">           class=&quot;avatar&quot;&gt;</span><br><span class="line">      &lt;i v-else</span><br><span class="line">         class=&quot;el-icon-plus avatar-uploader-icon&quot;&gt;&lt;/i&gt;</span><br><span class="line">    &lt;/el-upload&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import &#123; upload &#125; from &#x27;@/services/course&#x27;</span><br><span class="line">export default Vue.extend(&#123;</span><br><span class="line">  name: &#x27;CourseUpload&#x27;,</span><br><span class="line">  model: &#123;</span><br><span class="line">    prop: &#x27;imageUrl&#x27;,</span><br><span class="line">    event: &#x27;update&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    imageUrl: &#123;</span><br><span class="line">      type: String</span><br><span class="line">    &#125;,</span><br><span class="line">    limit: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 2</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isUploading: false,</span><br><span class="line">      percentage: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    beforeAvatarUpload(file: any) &#123;</span><br><span class="line">      const isJPG = file.type === &#x27;image/jpeg&#x27;</span><br><span class="line">      const isLt2M = file.size / 1024 / 1024 &lt; this.limit</span><br><span class="line"></span><br><span class="line">      if (!isJPG) &#123;</span><br><span class="line">        this.$message.error(&#x27;上传头像图片只能是 JPG 格式!&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">      if (!isLt2M) &#123;</span><br><span class="line">        this.$message.error(`上传头像图片大小不能超过 $&#123;this.limit&#125;MB!`)</span><br><span class="line">      &#125;</span><br><span class="line">      return isJPG &amp;&amp; isLt2M</span><br><span class="line">    &#125;,</span><br><span class="line">    async handleUpload(options: any) &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        this.isUploading = true</span><br><span class="line">        const fd = new FormData()</span><br><span class="line">        fd.append(&#x27;file&#x27;, options.file)</span><br><span class="line">        const &#123; data &#125; = await upload(fd, e =&gt; &#123;</span><br><span class="line">          this.percentage = Math.floor((e.loaded / e.total) * 100)</span><br><span class="line">        &#125;)</span><br><span class="line">        if (data.code === &#x27;000000&#x27;) &#123;</span><br><span class="line">          this.$emit(&#x27;update&#x27;, data.data.name)</span><br><span class="line">        &#125;</span><br><span class="line">        this.isUploading = false</span><br><span class="line">        this.percentage = 0</span><br><span class="line">      &#125; catch (e) &#123;</span><br><span class="line">        this.isUploading = false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.course-upload &#123;</span><br><span class="line">  ::v-deep .avatar-uploader .el-upload &#123;</span><br><span class="line">    border: 1px dashed #d9d9d9;</span><br><span class="line">    border-radius: 6px;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">  ::v-deep .avatar-uploader .el-upload:hover &#123;</span><br><span class="line">    border-color: #409eff;</span><br><span class="line">  &#125;</span><br><span class="line">  .avatar-uploader-icon &#123;</span><br><span class="line">    font-size: 28px;</span><br><span class="line">    color: #8c939d;</span><br><span class="line">    width: 178px;</span><br><span class="line">    height: 178px;</span><br><span class="line">    line-height: 178px;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line">  .avatar &#123;</span><br><span class="line">    width: 178px;</span><br><span class="line">    height: 178px;</span><br><span class="line">    display: block;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="富文本编辑器"><a href="#富文本编辑器" class="headerlink" title="富文本编辑器"></a>富文本编辑器</h3><ol>
<li><p><strong>wangeditor</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.wangeditor.com/" >https://www.wangeditor.com/<i class="fas fa-external-link-alt"></i></a></p>
<p>基于javascript和css开发的 Web富文本编辑器， 轻量、简洁、界面美观、易用、开源免费。</p>
</li>
<li><p><strong>TinyMCE</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.tiny.cloud/docs/demo/full-featured/" >https://www.tiny.cloud/docs/demo/full-featured/<i class="fas fa-external-link-alt"></i></a></p>
<p>TinyMCE是一个轻量级的基于浏览器的所见即所得编辑器，由JavaScript写成。它对IE6+和Firefox1.5+都有着非常良好的支持。功能齐全，界面美观，就是文档是英文的，对开发人员英文水平有一定要求。</p>
</li>
<li><p><strong>百度ueditor</strong> <a class="link"   target="_blank" rel="noopener" href="https://github.com/fex-team/ueditor" >https://github.com/fex-team/ueditor<i class="fas fa-external-link-alt"></i></a></p>
<p>UEditor是由百度web前端研发部开发所见即所得富文本web编辑器，具有轻量，功能齐全，可定制，注重用户体验等特点，开源基于MIT协议，允许自由使用和修改代码，缺点是已经没有更新了</p>
</li>
<li><p><strong>kindeditor</strong> <a class="link"   target="_blank" rel="noopener" href="http://kindeditor.net/demo.php" >http://kindeditor.net/demo.php<i class="fas fa-external-link-alt"></i></a></p>
<p>界面经典。</p>
</li>
<li><p><strong>Textbox</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.textbox.io/" >https://www.textbox.io/<i class="fas fa-external-link-alt"></i></a></p>
<p>Textbox是一款极简但功能强大的在线文本编辑器，支持桌面设备和移动设备。主要功能包含内置的图像处理和存储、文件拖放、拼写检查和自动更正。此外，该工具还实现了屏幕阅读器等辅助技术，并符合WAI-ARIA可访问性标准。</p>
</li>
<li><p><strong>CKEditor</strong> <a class="link"   target="_blank" rel="noopener" href="https://ckeditor.com/ckeditor-5/demo/" >https://ckeditor.com/ckeditor-5/demo/<i class="fas fa-external-link-alt"></i></a></p>
<p>国外的，界面美观。</p>
</li>
<li><p><strong>quill</strong> <a class="link"   target="_blank" rel="noopener" href="https://quilljs.com/" >https://quilljs.com/<i class="fas fa-external-link-alt"></i></a></p>
<p>功能强大，还可以编辑公式等</p>
</li>
<li><p><strong>medium-editor</strong> <a class="link"   target="_blank" rel="noopener" href="https://yabwe.github.io/medium-editor/" >https://yabwe.github.io/medium-editor/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://github.com/yabwe/medium-editor" >https://github.com/yabwe/medium-editor<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p><strong>simditor</strong> <a class="link"   target="_blank" rel="noopener" href="https://simditor.tower.im/" >https://simditor.tower.im/<i class="fas fa-external-link-alt"></i></a></p>
<p>界面美观，功能较全。（个人博客考虑使用）</p>
</li>
<li><p>**summernote **<a class="link"   target="_blank" rel="noopener" href="https://summernote.org/" >https://summernote.org/<i class="fas fa-external-link-alt"></i></a></p>
<p>UI好看，精美</p>
</li>
<li><p><strong>jodit</strong> <a class="link"   target="_blank" rel="noopener" href="https://xdsoft.net/jodit/" >https://xdsoft.net/jodit/<i class="fas fa-external-link-alt"></i></a></p>
<p>功能齐全</p>
</li>
<li><p><strong>Editor.md</strong> <a class="link"   target="_blank" rel="noopener" href="https://pandao.github.io/editor.md/" >https://pandao.github.io/editor.md/<i class="fas fa-external-link-alt"></i></a></p>
<p>功能非常丰富的编辑器，左端编辑，右端预览，非常方便，完全免费</p>
</li>
<li><p><strong>froala Editor</strong><a class="link"   target="_blank" rel="noopener" href="https://froala.com/wysiwyg-editor/" >https://froala.com/wysiwyg-editor/<i class="fas fa-external-link-alt"></i></a></p>
<p>界面非常好看，功能非常强大，非常好用（非免费，可破解）</p>
</li>
<li><p><strong>syncfusion</strong> <a class="link"   target="_blank" rel="noopener" href="https://ej2.syncfusion.com/react/demos/#/material/rich-text-editor/tools" >https://ej2.syncfusion.com/react/demos/#/material/rich-text-editor/tools<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p><strong>dhtmlxEditor</strong> <a class="link"   target="_blank" rel="noopener" href="https://dhtmlx.com/docs/products/dhtmlxRichText/" >https://dhtmlx.com/docs/products/dhtmlxRichText/<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p><strong>bootstrap-wysiwyg</strong> <a class="link"   target="_blank" rel="noopener" href="https://www.zybuluo.com/mdeditor" >https://www.zybuluo.com/mdeditor<i class="fas fa-external-link-alt"></i></a></p>
<p>bootstrap-wysiwyg是基于Bootstrap的轻型、免费开源的富文本编辑器，界面简洁大方。使用需要先引入bootstrap。</p>
</li>
<li><p><strong>eWebEditor</strong> <a class="link"   target="_blank" rel="noopener" href="http://www.ewebeditor.net/demo/" >http://www.ewebeditor.net/demo/<i class="fas fa-external-link-alt"></i></a></p>
<p>eWebEditor外观和使用风格都和微软 Word很类似，功能很多。工具条可以定制，运行速度很快。导入文件接口很多，支持word、excel、pdf、ppt直接导入，目前版本不支持代码高亮，不适合纯技术平台使用，适合内容编辑人员使用</p>
</li>
</ol>
<p>比较推荐：不在维护的项目不介意使用</p>
<ul>
<li>CKEditor</li>
<li>quill</li>
<li>medium-editor</li>
<li>wangeditor</li>
<li>ueditor</li>
<li>tinymce</li>
</ul>
<h3 id="拖拽排序"><a href="#拖拽排序" class="headerlink" title="拖拽排序"></a>拖拽排序</h3><p>element tree 树形组件</p>
<h3 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h3><p>compressorjs <a class="link"   target="_blank" rel="noopener" href="https://fengyuanchen.github.io/compressorjs/" >https://fengyuanchen.github.io/compressorjs/<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="阿里云视频点播"><a href="#阿里云视频点播" class="headerlink" title="阿里云视频点播"></a>阿里云视频点播</h3><p><a class="link"   target="_blank" rel="noopener" href="https://help.aliyun.com/" >https://help.aliyun.com/<i class="fas fa-external-link-alt"></i></a></p>
<p>测试的阿里云账号ID：1618139964448548</p>
<h3 id="ts-扩展-window-数据类型"><a href="#ts-扩展-window-数据类型" class="headerlink" title="ts 扩展 window 数据类型"></a>ts 扩展 window 数据类型</h3><p><code>shims-vue.d.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="built_in">module</span> <span class="string">&#x27;*.vue&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> Vue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Window &#123;</span><br><span class="line">  <span class="attr">AliyunUpload</span>: <span class="built_in">any</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="将诸如路径字符串-user-name转换为正则表达式。"><a href="#将诸如路径字符串-user-name转换为正则表达式。" class="headerlink" title="将诸如路径字符串/user/:name转换为正则表达式。"></a>将诸如路径字符串<code>/user/:name</code>转换为正则表达式。</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install path-to-regexp --save</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; pathToRegexp, match, parse, compile &#125; = <span class="built_in">require</span>(<span class="string">&quot;path-to-regexp&quot;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// pathToRegexp(path, keys?, options?)</span></span><br><span class="line"><span class="comment">// match(path)</span></span><br><span class="line"><span class="comment">// parse(path)</span></span><br><span class="line"><span class="comment">// compile(path)</span></span><br></pre></td></tr></table></figure>

<h3 id="按需加载插件"><a href="#按需加载插件" class="headerlink" title="按需加载插件"></a>按需加载插件</h3><ol>
<li>安装依赖 <code>npm install babel-plugin-dynamic-import-node -S -D</code></li>
<li>在 <code>babel.config.js</code> 中添加插件</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  presets: [&#x27;@vue/cli-plugin-babel/preset&#x27;],</span><br><span class="line">  env: &#123;</span><br><span class="line">    development: &#123;</span><br><span class="line">      plugins: [&#x27;dynamic-import-node&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="vue-cli-打包部署本地预览"><a href="#vue-cli-打包部署本地预览" class="headerlink" title="vue cli 打包部署本地预览"></a>vue cli 打包部署本地预览</h3><p><code>dist</code> 目录需要启动一个 HTTP 服务器来访问</p>
<ol>
<li><p>使用一个 Node.js 静态文件服务器，例如 <a class="link"   target="_blank" rel="noopener" href="https://github.com/zeit/serve" >serve<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -g serve</span><br><span class="line"><span class="comment"># -s 参数的意思是将其架设在 Single-Page Application 模式下</span></span><br><span class="line"><span class="comment"># 这个模式会处理即将提到的路由问题</span></span><br><span class="line">serve -s dist</span><br></pre></td></tr></table></figure>

<p>问题：接口跨域</p>
</li>
<li><p>自己搭建服务器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 托管 dist 目录，当访问 / 的时候，默认返回托管目录中的 index.html 文件</span></span><br><span class="line">app.use(express.static(path.join(__dirname, <span class="string">&#x27;../dist&#x27;</span>)))</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;running~~&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>问题：接口跨域</p>
<p>解决：<a class="link"   target="_blank" rel="noopener" href="https://github.com/chimurai/http-proxy-middleware" >http-proxy-middleware<i class="fas fa-external-link-alt"></i></a>中间件代理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev http-proxy-middleware</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  createProxyMiddleware</span><br><span class="line">&#125; = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 托管 dist 目录，当访问 / 的时候，默认返回托管目录中的 index.html 文件</span></span><br><span class="line">app.use(express.static(path.join(__dirname, <span class="string">&#x27;../dist&#x27;</span>)))</span><br><span class="line">app.use(<span class="string">&#x27;/boss&#x27;</span>, createProxyMiddleware(&#123;</span><br><span class="line">  <span class="attr">target</span>: <span class="string">&#x27;http://eduboss.lagou.com&#x27;</span>,</span><br><span class="line">  <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">&#125;));</span><br><span class="line">app.use(<span class="string">&#x27;/front&#x27;</span>, createProxyMiddleware(&#123;</span><br><span class="line">  <span class="attr">target</span>: <span class="string">&#x27;http://edufront.lagou.com&#x27;</span>,</span><br><span class="line">  <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">&#125;));</span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;running~~&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"> <span class="string">&quot;preview&quot;</span>: <span class="string">&quot;node test-serve/app.js&quot;</span></span><br></pre></td></tr></table></figure></li>
</ol>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2021/06/22/%E5%8D%9A%E5%AE%A2/vuepress%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">vuepress博客搭建</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/06/01/nodejs/nodejs%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Vue-Router</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;Comments</i>
    </div>
    

        
            
    <div id="gitalk-container"></div>
    <script data-pjax
            src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
    <script data-pjax>

        function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
                __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
                Gitalk && new Gitalk({
                    clientID: 'd497aebd1393e4084852',
                    clientSecret: 'fe2df06d7885541a3c098ad225dc39c6d64dc5f6',
                    repo: 'blog-issues',
                    owner: 'qiaolingyan',
                    admin: ['qiaolingyan'],
                    id: __gitalk__pathname,
                    language: 'zh'
                }).render('gitalk-container');

            } catch (e) {
                window.Gitalk = null;
            }
        }

        if ('true') {
            const loadGitalkTimeout = setTimeout(() => {
                loadGitalk();
                clearTimeout(loadGitalkTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
        }
    </script>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">qiao</a>
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%90%AD%E5%BB%BA%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84"><span class="nav-number">1.</span> <span class="nav-text">搭建项目架构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.1.</span> <span class="nav-text">创建项目</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Vue-CLI-%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.1.1.</span> <span class="nav-text">使用 Vue CLI 创建项目</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-TypeScript-%E5%BC%80%E5%8F%91-Vue-%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.2.</span> <span class="nav-text">使用 TypeScript 开发 Vue 项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TypeScript-%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.3.</span> <span class="nav-text">TypeScript 相关配置介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%BA%86-TypeScript-%E7%9B%B8%E5%85%B3%E7%9A%84%E4%BE%9D%E8%B5%96%E9%A1%B9"><span class="nav-number">1.3.1.</span> <span class="nav-text">安装了 TypeScript 相关的依赖项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TypeScript-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-tsconfig-json"><span class="nav-number">1.3.2.</span> <span class="nav-text">TypeScript 配置文件 tsconfig.json</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#shims-vue-d-ts-%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">1.3.3.</span> <span class="nav-text">shims-vue.d.ts 文件的作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#shims-tsx-d-ts-%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">1.3.4.</span> <span class="nav-text">shims-tsx.d.ts 文件的作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">1.3.5.</span> <span class="nav-text">定义组件的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Options-APIs"><span class="nav-number">1.3.5.1.</span> <span class="nav-text">使用 Options APIs</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Class-APIs-%E5%AE%9A%E4%B9%89-Vue-%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.5.2.</span> <span class="nav-text">使用 Class APIs 定义 Vue 组件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%AD%E6%B3%95"><span class="nav-number">1.3.5.3.</span> <span class="nav-text">关于装饰器语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-VuePropertyDecorator-%E5%88%9B%E5%BB%BA-Vue-%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.5.4.</span> <span class="nav-text">使用 VuePropertyDecorator 创建 Vue 组件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A0%E5%85%A5-Git-%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="nav-number">1.3.6.</span> <span class="nav-text">加入 Git 版本管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%AF%B4%E6%98%8E"><span class="nav-number">1.3.7.</span> <span class="nav-text">项目目录结构说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%83%E6%95%B4%E5%88%9D%E5%A7%8B%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">1.3.8.</span> <span class="nav-text">调整初始目录结构</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97"><span class="nav-number">1.4.</span> <span class="nav-text">风格指南</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Component"><span class="nav-number">1.4.1.</span> <span class="nav-text">Component</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JavaScript-%E6%96%87%E4%BB%B6"><span class="nav-number">1.4.2.</span> <span class="nav-text">JavaScript 文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Views"><span class="nav-number">1.4.3.</span> <span class="nav-text">Views</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%92%8C-ESLint"><span class="nav-number">1.5.</span> <span class="nav-text">代码规范和 ESLint</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.5.1.</span> <span class="nav-text">代码规范介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.5.2.</span> <span class="nav-text">标准是什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E7%BA%A6%E6%9D%9F%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="nav-number">1.5.3.</span> <span class="nav-text">如何约束代码规范</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.5.4.</span> <span class="nav-text">项目中的代码规范是什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F%E6%A0%A1%E9%AA%8C%E8%A7%84%E8%8C%83"><span class="nav-number">1.5.5.</span> <span class="nav-text">如何自定义代码格式校验规范</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vscode-%E9%85%8D%E7%BD%AE-ESLint"><span class="nav-number">1.5.6.</span> <span class="nav-text">vscode 配置 ESLint</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#vscode-%E5%AE%89%E8%A3%85-eslint"><span class="nav-number">1.5.6.1.</span> <span class="nav-text">vscode  安装 eslint</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E4%BF%AE%E5%A4%8D"><span class="nav-number">1.5.7.</span> <span class="nav-text">自动修复</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Git-Hooks"><span class="nav-number">1.5.8.</span> <span class="nav-text">Git Hooks</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%83%E5%B1%80"><span class="nav-number">1.6.</span> <span class="nav-text">布局</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5-Element-%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="nav-number">1.6.1.</span> <span class="nav-text">导入 Element 组件库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%B7%E5%BC%8F%E5%A4%84%E7%90%86"><span class="nav-number">1.6.2.</span> <span class="nav-text">样式处理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E2%BD%97%E7%BB%84%E4%BB%B6%E6%94%B9%E5%8F%98%E2%BC%A6%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F-%E6%B7%B1%E5%BA%A6%E9%80%89%E6%8B%A9%E5%99%A8"><span class="nav-number">1.6.2.1.</span> <span class="nav-text">⽗组件改变⼦组件样式 深度选择器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E5%8F%98%E9%87%8F"><span class="nav-number">1.6.2.2.</span> <span class="nav-text">共享全局样式变量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%8E%A5%E5%8F%A3%E8%AF%B4%E6%98%8E"><span class="nav-number">1.7.</span> <span class="nav-text">服务端接口说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-number">1.7.1.</span> <span class="nav-text">接口跨域问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E8%AF%B7%E6%B1%82%E6%A8%A1%E5%9D%97"><span class="nav-number">1.7.2.</span> <span class="nav-text">封装请求模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2-%E8%AF%B7%E6%B1%82%E6%A0%BC%E5%BC%8F%E4%B8%BA-x-www-form-urlencoded-%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F"><span class="nav-number">1.7.3.</span> <span class="nav-text">请求数据格式转换,请求格式为 x-www-form-urlencoded 的处理方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">1.7.4.</span> <span class="nav-text">配置环境变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E8%B7%AF%E7%94%B1%E9%A1%B5%E9%9D%A2%E7%BB%84%E4%BB%B6"><span class="nav-number">1.7.5.</span> <span class="nav-text">初始化路由页面组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%92%8C%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="nav-number">1.7.6.</span> <span class="nav-text">路由和侧边栏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Layout-%E5%B8%83%E5%B1%80"><span class="nav-number">1.7.7.</span> <span class="nav-text">Layout 布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="nav-number">1.7.8.</span> <span class="nav-text">登录页面布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="nav-number">1.7.9.</span> <span class="nav-text">路由懒加载</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%92%8C%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">2.</span> <span class="nav-text">用户登录和身份认证</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81%E5%AD%98%E5%82%A8"><span class="nav-number">2.0.1.</span> <span class="nav-text">用户登录状态存储</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">2.0.2.</span> <span class="nav-text">身份认证</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Token-%E8%BF%87%E6%9C%9F"><span class="nav-number">2.0.2.1.</span> <span class="nav-text">Token 过期</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#axios-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86-%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF%E6%8F%90%E7%A4%BA"><span class="nav-number">2.0.2.2.</span> <span class="nav-text">axios 错误处理 - 错误消息提示</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%9A%E6%AC%A1%E8%AF%B7%E6%B1%82"><span class="nav-number">2.0.2.3.</span> <span class="nav-text">多次请求</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-1"><span class="nav-number">2.1.</span> <span class="nav-text">配置环境变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90"><span class="nav-number">3.</span> <span class="nav-text">用户权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%BE%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">课程管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2"><span class="nav-number">5.</span> <span class="nav-text">发布部署</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">6.</span> <span class="nav-text">项目中遇到的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#vscode-%E5%85%B3%E9%97%AD-%E5%8D%95%E5%BC%95%E5%8F%B7%E8%BD%AC%E6%8D%A2%E4%B8%BA-%E5%8F%8C%E5%BC%95%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">6.1.</span> <span class="nav-text">vscode 关闭 单引号转换为 双引号的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#core-js-%E6%8A%A5%E9%94%99"><span class="nav-number">6.2.</span> <span class="nav-text">core-js 报错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TS-%E6%A0%A1%E9%AA%8C%E6%8A%A5%E9%94%99"><span class="nav-number">6.3.</span> <span class="nav-text">TS 校验报错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E5%8F%8A-%E4%B8%8A%E4%BC%A0%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="nav-number">6.4.</span> <span class="nav-text">上传文件 及 上传进度条</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="nav-number">6.5.</span> <span class="nav-text">富文本编辑器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%96%E6%8B%BD%E6%8E%92%E5%BA%8F"><span class="nav-number">6.6.</span> <span class="nav-text">拖拽排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9"><span class="nav-number">6.7.</span> <span class="nav-text">图片压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91%E8%A7%86%E9%A2%91%E7%82%B9%E6%92%AD"><span class="nav-number">6.8.</span> <span class="nav-text">阿里云视频点播</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ts-%E6%89%A9%E5%B1%95-window-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">6.9.</span> <span class="nav-text">ts 扩展 window 数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86%E8%AF%B8%E5%A6%82%E8%B7%AF%E5%BE%84%E5%AD%97%E7%AC%A6%E4%B8%B2-user-name%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E3%80%82"><span class="nav-number">6.10.</span> <span class="nav-text">将诸如路径字符串&#x2F;user&#x2F;:name转换为正则表达式。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD%E6%8F%92%E4%BB%B6"><span class="nav-number">6.11.</span> <span class="nav-text">按需加载插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue-cli-%E6%89%93%E5%8C%85%E9%83%A8%E7%BD%B2%E6%9C%AC%E5%9C%B0%E9%A2%84%E8%A7%88"><span class="nav-number">6.12.</span> <span class="nav-text">vue cli 打包部署本地预览</span></a></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
