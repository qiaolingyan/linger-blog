<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="qiao">
    
    <title>
        
            100个JavaScript代码片段总结 |
        
        Qiao
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/img.jpg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/img.jpg","favicon":"/images/img.jpg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Qiao
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >
                                LINKS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links">LINKS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">100个JavaScript代码片段总结</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/img.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">qiao</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-05-14 10:38:06
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/js/">js</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/js/">js</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h4 id="实现字符串长度截取"><a href="#实现字符串长度截取" class="headerlink" title="实现字符串长度截取"></a>实现字符串长度截取</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function cutstr(str, len) &#123;</span><br><span class="line">        var temp;</span><br><span class="line">        var icount = 0;</span><br><span class="line">        var patrn = /[^\x00-\xff]/;</span><br><span class="line">        var strre = &quot;&quot;;</span><br><span class="line">        for (var i = 0; i &lt; str.length; i++) &#123;</span><br><span class="line">            if (icount &lt; len - 1) &#123;</span><br><span class="line">                temp = str.substr(i, 1);</span><br><span class="line">                if (patrn.exec(temp) == null) &#123;</span><br><span class="line">                    icount = icount + 1</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    icount = icount + 2</span><br><span class="line">                &#125;</span><br><span class="line">                strre += temp</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                break</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return strre + &quot;...&quot;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取域名主机"><a href="#获取域名主机" class="headerlink" title="获取域名主机"></a>获取域名主机</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getHost(url) &#123;</span><br><span class="line">        var host = &quot;null&quot;;</span><br><span class="line">        if(typeof url == &quot;undefined&quot;|| null == url) &#123;</span><br><span class="line">            url = window.location.href;</span><br><span class="line">        &#125;</span><br><span class="line">        var regex = /^\w+\:\/\/([^\/]*).*/;</span><br><span class="line">        var match = url.match(regex);</span><br><span class="line">        if(typeof match != &quot;undefined&quot; &amp;&amp; null != match) &#123;</span><br><span class="line">            host = match[1];</span><br><span class="line">        &#125;</span><br><span class="line">        return host;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="清除空格"><a href="#清除空格" class="headerlink" title="清除空格"></a>清除空格</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String.prototype.trim = function() &#123;</span><br><span class="line">        var reExtraSpace = /^\s*(.*?)\s+$/;</span><br><span class="line">        return this.replace(reExtraSpace, &quot;$1&quot;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="替换全部"><a href="#替换全部" class="headerlink" title="替换全部"></a>替换全部</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String.prototype.replaceAll = function(s1, s2) &#123;</span><br><span class="line">    return this.replace(new RegExp(s1, &quot;gm&quot;), s2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="转义html标签"><a href="#转义html标签" class="headerlink" title="转义html标签"></a>转义html标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function HtmlEncode(text) &#123;</span><br><span class="line">        return text.replace(/&amp;/g, &#x27;&amp;amp&#x27;).replace(/\&quot;/g, &#x27;&amp;quot;&#x27;).replace(/&lt;/g, &#x27;&amp;lt;&#x27;).replace(/&gt;/g, &#x27;&amp;gt;&#x27;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="生JavaScript还原html标签"><a href="#生JavaScript还原html标签" class="headerlink" title="生JavaScript还原html标签"></a>生JavaScript还原html标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function HtmlDecode(text) &#123;</span><br><span class="line">        return text.replace(/&amp;amp;/g, &#x27;&amp;&#x27;).replace(/&amp;quot;/g, &#x27;\&quot;&#x27;).replace(/&amp;lt;/g, &#x27;&lt;&#x27;).replace(/&amp;gt;/g, &#x27;&gt;&#x27;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="时间日期格式转换"><a href="#时间日期格式转换" class="headerlink" title="时间日期格式转换"></a>时间日期格式转换</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Date.prototype.Format = function(formatStr) &#123;</span><br><span class="line">        var str = formatStr;</span><br><span class="line">        var Week = [&#x27;日&#x27;, &#x27;一&#x27;, &#x27;二&#x27;, &#x27;三&#x27;, &#x27;四&#x27;, &#x27;五&#x27;, &#x27;六&#x27;];</span><br><span class="line">        str = str.replace(/yyyy|YYYY/, this.getFullYear());</span><br><span class="line">        str = str.replace(/yy|YY/, (this.getYear() % 100) &gt; 9 ? (this.getYear() % 100).toString() : &#x27;0&#x27; + (this.getYear() % 100));</span><br><span class="line">        str = str.replace(/MM/, (this.getMonth() + 1) &gt; 9 ? (this.getMonth() + 1).toString() : &#x27;0&#x27; + (this.getMonth() + 1));</span><br><span class="line">        str = str.replace(/M/g, (this.getMonth() + 1));</span><br><span class="line">        str = str.replace(/w|W/g, Week[this.getDay()]);</span><br><span class="line">        str = str.replace(/dd|DD/, this.getDate() &gt; 9 ? this.getDate().toString() : &#x27;0&#x27; + this.getDate());</span><br><span class="line">        str = str.replace(/d|D/g, this.getDate());</span><br><span class="line">        str = str.replace(/hh|HH/, this.getHours() &gt; 9 ? this.getHours().toString() : &#x27;0&#x27; + this.getHours());</span><br><span class="line">        str = str.replace(/h|H/g, this.getHours());</span><br><span class="line">        str = str.replace(/mm/, this.getMinutes() &gt; 9 ? this.getMinutes().toString() : &#x27;0&#x27; + this.getMinutes());</span><br><span class="line">        str = str.replace(/m/g, this.getMinutes());</span><br><span class="line">        str = str.replace(/ss|SS/, this.getSeconds() &gt; 9 ? this.getSeconds().toString() : &#x27;0&#x27; + this.getSeconds());</span><br><span class="line">        str = str.replace(/s|S/g, this.getSeconds());</span><br><span class="line">        return str</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否为数字类型"><a href="#判断是否为数字类型" class="headerlink" title="判断是否为数字类型"></a>判断是否为数字类型</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function isDigit(value) &#123;</span><br><span class="line">        var patrn = /^[0-9]*$/;</span><br><span class="line">        if (patrn.exec(value) == null || value == &quot;&quot;) &#123;</span><br><span class="line">            return false</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="设置cookie值"><a href="#设置cookie值" class="headerlink" title="设置cookie值"></a>设置cookie值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function setCookie(name, value, Hours) &#123;</span><br><span class="line">            var d = new Date();</span><br><span class="line">        var offset = 8;</span><br><span class="line">        var utc = d.getTime() + (d.getTimezoneOffset() * 60000);</span><br><span class="line">        var nd = utc + (3600000 * offset);</span><br><span class="line">        var exp = new Date(nd);</span><br><span class="line">        exp.setTime(exp.getTime() + Hours * 60 * 60 * 1000);</span><br><span class="line">        document.cookie = name + &quot;=&quot; + escape(value) + &quot;;path=/;expires=&quot; + exp.toGMTString() + &quot;;domain=360doc.com;&quot;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取cookie值"><a href="#获取cookie值" class="headerlink" title="获取cookie值"></a>获取cookie值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function getCookie(name) &#123;</span><br><span class="line">     var arr = document.cookie.match(new RegExp(&quot;(^| )&quot; + name + &quot;=([^;]*)(;|$)&quot;));</span><br><span class="line">     if (arr != null) return unescape(arr[2]);</span><br><span class="line">     return null</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="加入收藏夹"><a href="#加入收藏夹" class="headerlink" title="加入收藏夹"></a>加入收藏夹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function AddFavorite(sURL, sTitle) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            window.external.addFavorite(sURL, sTitle)</span><br><span class="line">        &#125; catch(e) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                window.sidebar.addPanel(sTitle, sURL, &quot;&quot;)</span><br><span class="line">            &#125; catch(e) &#123;</span><br><span class="line">                alert(&quot;加入收藏失败，请使用Ctrl+D进行添加&quot;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="设为首页"><a href="#设为首页" class="headerlink" title="设为首页"></a>设为首页</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function setHomepage() &#123;</span><br><span class="line">        if (document.all) &#123;</span><br><span class="line">            document.body.style.behavior = &#x27;url(#default#homepage)&#x27;;</span><br><span class="line">            document.body.setHomePage(&#x27;http://***&#x27;)</span><br><span class="line">        &#125; else if (window.sidebar) &#123;</span><br><span class="line">            if (window.netscape) &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    netscape.security.PrivilegeManager.enablePrivilege(&quot;UniversalXPConnect&quot;)</span><br><span class="line">                &#125; catch(e) &#123;</span><br><span class="line">                    alert(&quot;该操作被浏览器拒绝，如果想启用该功能，请在地址栏内输入 about:config,然后将项 signed.applets.codebase_principal_support 值该为true&quot;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            var prefs = Components.classes[&#x27;@mozilla.org/preferences-service;1&#x27;].getService(Components.interfaces.nsIPrefBranch);</span><br><span class="line">            prefs.setCharPref(&#x27;browser.startup.homepage&#x27;, &#x27;http://***&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断IE6"><a href="#判断IE6" class="headerlink" title="判断IE6"></a>判断IE6</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var ua = navigator.userAgent.toLowerCase();</span><br><span class="line">    var isIE6 = ua.indexOf(&quot;msie 6&quot;) &gt; -1;</span><br><span class="line">    if (isIE6) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            document.execCommand(&quot;BackgroundImageCache&quot;, false, true)</span><br><span class="line">        &#125; catch(e) &#123;&#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="加载样式文件"><a href="#加载样式文件" class="headerlink" title="加载样式文件"></a>加载样式文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function LoadStyle(url) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            document.createStyleSheet(url)</span><br><span class="line">        &#125; catch(e) &#123;</span><br><span class="line">            var cssLink = document.createElement(&#x27;link&#x27;);</span><br><span class="line">            cssLink.rel = &#x27;stylesheet&#x27;;</span><br><span class="line">            cssLink.type = &#x27;text/css&#x27;;</span><br><span class="line">            cssLink.href = url;</span><br><span class="line">            var head = document.getElementsByTagName(&#x27;head&#x27;)[0];</span><br><span class="line">            head.appendChild(cssLink)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回脚本内容"><a href="#返回脚本内容" class="headerlink" title="返回脚本内容"></a>返回脚本内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function evalscript(s) &#123;</span><br><span class="line">        if(s.indexOf(&#x27;&lt;script&#x27;) == -1) return s;</span><br><span class="line">        var p = /&lt;script[^\&gt;]*?&gt;([^\x00]*?)&lt;\/script&gt;/ig;</span><br><span class="line">        var arr = [];</span><br><span class="line">        while(arr = p.exec(s)) &#123;</span><br><span class="line">            var p1 = /&lt;script[^\&gt;]*?src=\&quot;([^\&gt;]*?)\&quot;[^\&gt;]*?(reload=\&quot;1\&quot;)?(?:charset=\&quot;([\w\-]+?)\&quot;)?&gt;&lt;\/script&gt;/i;</span><br><span class="line">            var arr1 = [];</span><br><span class="line">            arr1 = p1.exec(arr[0]);</span><br><span class="line">            if(arr1) &#123;</span><br><span class="line">                appendscript(arr1[1], &#x27;&#x27;, arr1[2], arr1[3]);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                p1 = /&lt;script(.*?)&gt;([^\x00]+?)&lt;\/script&gt;/i;</span><br><span class="line">                arr1 = p1.exec(arr[0]);</span><br><span class="line">                appendscript(&#x27;&#x27;, arr1[2], arr1[1].indexOf(&#x27;reload=&#x27;) != -1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return s;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="清除脚本内容"><a href="#清除脚本内容" class="headerlink" title="清除脚本内容"></a>清除脚本内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function stripscript(s) &#123;</span><br><span class="line">    return s.replace(/&lt;script.*?&gt;.*?&lt;\/script&gt;/ig, &#x27;&#x27;);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="动态加载脚本文件"><a href="#动态加载脚本文件" class="headerlink" title="动态加载脚本文件"></a>动态加载脚本文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">function appendscript(src, text, reload, charset) &#123;</span><br><span class="line">        var id = hash(src + text);</span><br><span class="line">        if(!reload &amp;&amp; in_array(id, evalscripts)) return;</span><br><span class="line">        if(reload &amp;&amp; $(id)) &#123;</span><br><span class="line">            $(id).parentNode.removeChild($(id));</span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">        evalscripts.push(id);</span><br><span class="line">        var scriptNode = document.createElement(&quot;script&quot;);</span><br><span class="line">        scriptNode.type = &quot;text/javascript&quot;;</span><br><span class="line">        scriptNode.id = id;</span><br><span class="line">        scriptNode.charset = charset ? charset : (BROWSER.firefox ? document.characterSet : document.charset);</span><br><span class="line">        try &#123;</span><br><span class="line">            if(src) &#123;</span><br><span class="line">                scriptNode.src = src;</span><br><span class="line">                scriptNode.onloadDone = false;</span><br><span class="line">                scriptNode.onload = function () &#123;</span><br><span class="line">                    scriptNode.onloadDone = true;</span><br><span class="line">                    JSLOADED[src] = 1;</span><br><span class="line">                &#125;;</span><br><span class="line">                scriptNode.onreadystatechange = function () &#123;</span><br><span class="line">                    if((scriptNode.readyState == &#x27;loaded&#x27; || scriptNode.readyState == &#x27;complete&#x27;) &amp;&amp; !scriptNode.onloadDone) &#123;</span><br><span class="line">                        scriptNode.onloadDone = true;</span><br><span class="line">                        JSLOADED[src] = 1;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125; else if(text)&#123;</span><br><span class="line">                scriptNode.text = text;</span><br><span class="line">            &#125;</span><br><span class="line">            document.getElementsByTagName(&#x27;head&#x27;)[0].appendChild(scriptNode);</span><br><span class="line">        &#125; catch(e) &#123;&#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回按ID检索的元素对象"><a href="#返回按ID检索的元素对象" class="headerlink" title="返回按ID检索的元素对象"></a>返回按ID检索的元素对象</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function $(id) &#123;</span><br><span class="line">        return !id ? null : document.getElementById(id);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回浏览器版本内容"><a href="#返回浏览器版本内容" class="headerlink" title="返回浏览器版本内容"></a>返回浏览器版本内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function browserVersion(types) &#123;</span><br><span class="line">        var other = 1;</span><br><span class="line">        for(i in types) &#123;</span><br><span class="line">            var v = types[i] ? types[i] : i;</span><br><span class="line">            if(USERAGENT.indexOf(v) != -1) &#123;</span><br><span class="line">                var re = new RegExp(v + &#x27;(\\/|\\s)([\\d\\.]+)&#x27;, &#x27;ig&#x27;);</span><br><span class="line">                var matches = re.exec(USERAGENT);</span><br><span class="line">                var ver = matches != null ? matches[2] : 0;</span><br><span class="line">                other = ver !== 0 &amp;&amp; v != &#x27;mozilla&#x27; ? 0 : other;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                var ver = 0;</span><br><span class="line">            &#125;</span><br><span class="line">            eval(&#x27;BROWSER.&#x27; + i + &#x27;= ver&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        BROWSER.other = other;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="元素显示的通用方法"><a href="#元素显示的通用方法" class="headerlink" title="元素显示的通用方法"></a>元素显示的通用方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function $(id) &#123;</span><br><span class="line">        return !id ? null : document.getElementById(id);</span><br><span class="line">    &#125;</span><br><span class="line">    function display(id) &#123;</span><br><span class="line">        var obj = $(id);</span><br><span class="line">        if(obj.style.visibility) &#123;</span><br><span class="line">            obj.style.visibility = obj.style.visibility == &#x27;visible&#x27; ? &#x27;hidden&#x27; : &#x27;visible&#x27;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            obj.style.display = obj.style.display == &#x27;&#x27; ? &#x27;none&#x27; : &#x27;&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="中有insertBefore方法-可惜却没有insertAfter方法-用如下函数实现"><a href="#中有insertBefore方法-可惜却没有insertAfter方法-用如下函数实现" class="headerlink" title="中有insertBefore方法,可惜却没有insertAfter方法?用如下函数实现"></a>中有insertBefore方法,可惜却没有insertAfter方法?用如下函数实现</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function insertAfter(newChild,refChild)&#123; </span><br><span class="line">    var parElem=refChild.parentNode; </span><br><span class="line">    if(parElem.lastChild==refChild)&#123; </span><br><span class="line">        refChild.appendChild(newChild); </span><br><span class="line">    &#125;else&#123; </span><br><span class="line">        parElem.insertBefore(newChild,refChild.nextSibling); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="中兼容浏览器绑定元素事件"><a href="#中兼容浏览器绑定元素事件" class="headerlink" title="中兼容浏览器绑定元素事件"></a>中兼容浏览器绑定元素事件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function addEventSamp(obj,evt,fn)&#123; </span><br><span class="line">    if (obj.addEventListener) &#123; </span><br><span class="line">        obj.addEventListener(evt, fn, false); </span><br><span class="line">    &#125;else if(obj.attachEvent)&#123; </span><br><span class="line">        obj.attachEvent(&#x27;on&#x27;+evt,fn); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="光标停在文字的后面，文本框获得焦点时调用"><a href="#光标停在文字的后面，文本框获得焦点时调用" class="headerlink" title="光标停在文字的后面，文本框获得焦点时调用"></a>光标停在文字的后面，文本框获得焦点时调用</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function focusLast()&#123; </span><br><span class="line">    var e = event.srcElement; </span><br><span class="line">    var r =e.createTextRange(); </span><br><span class="line">    r.moveStart(&#x27;character&#x27;,e.value.length); </span><br><span class="line">    r.collapse(true); </span><br><span class="line">    r.select(); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="检验URL链接是否有效"><a href="#检验URL链接是否有效" class="headerlink" title="检验URL链接是否有效"></a>检验URL链接是否有效</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function getUrlState(URL)&#123; </span><br><span class="line">    var xmlhttp = new ActiveXObject(&quot;microsoft.xmlhttp&quot;); </span><br><span class="line">    xmlhttp.Open(&quot;GET&quot;,URL, false);  </span><br><span class="line">    try&#123;  </span><br><span class="line">        xmlhttp.Send(); </span><br><span class="line">    &#125;catch(e)&#123;</span><br><span class="line">    &#125;finally&#123; </span><br><span class="line">        var result = xmlhttp.responseText; </span><br><span class="line">        if(result)&#123; </span><br><span class="line">            if(xmlhttp.Status==200)&#123; </span><br><span class="line">                return(true); </span><br><span class="line">            &#125;else&#123; </span><br><span class="line">                return(false); </span><br><span class="line">            &#125; </span><br><span class="line">        &#125;else&#123; </span><br><span class="line">            return(false); </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="格式化CSS样式代码"><a href="#格式化CSS样式代码" class="headerlink" title="格式化CSS样式代码"></a>格式化CSS样式代码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function formatCss(s)&#123;//格式化代码</span><br><span class="line">    s = s.replace(/\s*([\&#123;\&#125;\:\;\,])\s*/g, &quot;$1&quot;);</span><br><span class="line">    s = s.replace(/;\s*;/g, &quot;;&quot;); //清除连续分号</span><br><span class="line">    s = s.replace(/\,[\s\.\#\d]*&#123;/g, &quot;&#123;&quot;);</span><br><span class="line">    s = s.replace(/([^\s])\&#123;([^\s])/g, &quot;$1 &#123;\n\t$2&quot;);</span><br><span class="line">    s = s.replace(/([^\s])\&#125;([^\n]*)/g, &quot;$1\n&#125;\n$2&quot;);</span><br><span class="line">    s = s.replace(/([^\s]);([^\s\&#125;])/g, &quot;$1;\n\t$2&quot;);</span><br><span class="line">    return s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="压缩CSS样式代码"><a href="#压缩CSS样式代码" class="headerlink" title="压缩CSS样式代码"></a>压缩CSS样式代码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function yasuoCss (s) &#123;//压缩代码</span><br><span class="line">    s = s.replace(/\/\*(.|\n)*?\*\//g, &quot;&quot;); //删除注释</span><br><span class="line">    s = s.replace(/\s*([\&#123;\&#125;\:\;\,])\s*/g, &quot;$1&quot;);</span><br><span class="line">    s = s.replace(/\,[\s\.\#\d]*\&#123;/g, &quot;&#123;&quot;); //容错处理</span><br><span class="line">    s = s.replace(/;\s*;/g, &quot;;&quot;); //清除连续分号</span><br><span class="line">    s = s.match(/^\s*(\S+(\s+\S+)*)\s*$/); //去掉首尾空白</span><br><span class="line">    return (s == null) ? &quot;&quot; : s[1];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取当前路径"><a href="#获取当前路径" class="headerlink" title="获取当前路径"></a>获取当前路径</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var currentPageUrl = &quot;&quot;;</span><br><span class="line">if (typeof this.href === &quot;undefined&quot;) &#123;</span><br><span class="line">    currentPageUrl = document.location.toString().toLowerCase();</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">    currentPageUrl = this.href.toString().toLowerCase();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="IP转成整型"><a href="#IP转成整型" class="headerlink" title="IP转成整型"></a>IP转成整型</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function _ip2int(ip)&#123;</span><br><span class="line">    var num = 0;</span><br><span class="line">    ip = ip.split(&quot;.&quot;);</span><br><span class="line">    num = Number(ip[0]) * 256 * 256 * 256 + Number(ip[1]) * 256 * 256 + Number(ip[2]) * 256 + Number(ip[3]);</span><br><span class="line">    num = num &gt;&gt;&gt; 0;</span><br><span class="line">    return num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="整型解析为IP地址"><a href="#整型解析为IP地址" class="headerlink" title="整型解析为IP地址"></a>整型解析为IP地址</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function _int2iP(num)&#123;</span><br><span class="line">    var str;</span><br><span class="line">    var tt = new Array();</span><br><span class="line">    tt[0] = (num &gt;&gt;&gt; 24) &gt;&gt;&gt; 0;</span><br><span class="line">    tt[1] = ((num &lt;&lt; 8) &gt;&gt;&gt; 24) &gt;&gt;&gt; 0;</span><br><span class="line">    tt[2] = (num &lt;&lt; 16) &gt;&gt;&gt; 24;</span><br><span class="line">    tt[3] = (num &lt;&lt; 24) &gt;&gt;&gt; 24;</span><br><span class="line">    str = String(tt[0]) + &quot;.&quot; + String(tt[1]) + &quot;.&quot; + String(tt[2]) + &quot;.&quot; + String(tt[3]);</span><br><span class="line">    return str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现checkbox全选与全不选"><a href="#实现checkbox全选与全不选" class="headerlink" title="实现checkbox全选与全不选"></a>实现checkbox全选与全不选</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function checkAll() &#123;</span><br><span class="line">    var selectall = document.getElementById(&quot;selectall&quot;);</span><br><span class="line">    var allbox = document.getElementsByName(&quot;allbox&quot;);</span><br><span class="line">    if (selectall.checked) &#123;</span><br><span class="line">        for (var i = 0; i &lt; allbox.length; i++) &#123;</span><br><span class="line">            allbox[i].checked = true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        for (var i = 0; i &lt; allbox.length; i++) &#123;</span><br><span class="line">            allbox[i].checked = false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否移动设备"><a href="#判断是否移动设备" class="headerlink" title="判断是否移动设备"></a>判断是否移动设备</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function isMobile()&#123;</span><br><span class="line">    if (typeof this._isMobile === &#x27;boolean&#x27;)&#123;</span><br><span class="line">        return this._isMobile;</span><br><span class="line">    &#125;</span><br><span class="line">    var screenWidth = this.getScreenWidth();</span><br><span class="line">    var fixViewPortsExperiment = rendererModel.runningExperiments.FixViewport || rendererModel.runningExperiments.fixviewport;</span><br><span class="line">    var fixViewPortsExperimentRunning = fixViewPortsExperiment &amp;&amp; (fixViewPortsExperiment.toLowerCase() === &quot;new&quot;);</span><br><span class="line">    if(!fixViewPortsExperiment)&#123;</span><br><span class="line">        if(!this.isAppleMobileDevice())&#123;</span><br><span class="line">            screenWidth = screenWidth/window.devicePixelRatio;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    var isMobileScreenSize = screenWidth &lt; 600;</span><br><span class="line">    var isMobileUserAgent = false;</span><br><span class="line">    this._isMobile = isMobileScreenSize &amp;&amp; this.isTouchScreen();</span><br><span class="line">    return this._isMobile;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否移动设备访问"><a href="#判断是否移动设备访问" class="headerlink" title="判断是否移动设备访问"></a>判断是否移动设备访问</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isMobileUserAgent()&#123;</span><br><span class="line">    return (/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(window.navigator.userAgent.toLowerCase()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否苹果移动设备访问"><a href="#判断是否苹果移动设备访问" class="headerlink" title="判断是否苹果移动设备访问"></a>判断是否苹果移动设备访问</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 function isAppleMobileDevice()&#123;</span><br><span class="line">2     return (/iphone|ipod|ipad|Macintosh/i.test(navigator.userAgent.toLowerCase()));</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否安卓移动设备访问"><a href="#判断是否安卓移动设备访问" class="headerlink" title="判断是否安卓移动设备访问"></a>判断是否安卓移动设备访问</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 function isAndroidMobileDevice()&#123;</span><br><span class="line">2     return (/android/i.test(navigator.userAgent.toLowerCase()));</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否Touch屏幕"><a href="#判断是否Touch屏幕" class="headerlink" title="判断是否Touch屏幕"></a>判断是否Touch屏幕</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 function isTouchScreen()&#123;</span><br><span class="line">2     return ((&#x27;ontouchstart&#x27; in window) || window.DocumentTouch &amp;&amp; document instanceof DocumentTouch);</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否在安卓上的谷歌浏览器"><a href="#判断是否在安卓上的谷歌浏览器" class="headerlink" title="判断是否在安卓上的谷歌浏览器"></a>判断是否在安卓上的谷歌浏览器</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function isNewChromeOnAndroid()&#123;</span><br><span class="line">    if(this.isAndroidMobileDevice())&#123;</span><br><span class="line">        var userAgent = navigator.userAgent.toLowerCase();</span><br><span class="line">        if((/chrome/i.test(userAgent)))&#123;</span><br><span class="line">            var parts = userAgent.split(&#x27;chrome/&#x27;);</span><br><span class="line"></span><br><span class="line">            var fullVersionString = parts[1].split(&quot; &quot;)[0];</span><br><span class="line">            var versionString = fullVersionString.split(&#x27;.&#x27;)[0];</span><br><span class="line">            var version = parseInt(versionString);</span><br><span class="line"></span><br><span class="line">            if(version &gt;= 27)&#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否打开视窗"><a href="#判断是否打开视窗" class="headerlink" title="判断是否打开视窗"></a>判断是否打开视窗</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 function isViewportOpen() &#123;</span><br><span class="line">2     return !!document.getElementById(&#x27;wixMobileViewport&#x27;);</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取移动设备初始化大小"><a href="#获取移动设备初始化大小" class="headerlink" title="获取移动设备初始化大小"></a>获取移动设备初始化大小</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function getInitZoom()&#123;</span><br><span class="line">    if(!this._initZoom)&#123;</span><br><span class="line">        var screenWidth = Math.min(screen.height, screen.width);</span><br><span class="line">        if(this.isAndroidMobileDevice() &amp;&amp; !this.isNewChromeOnAndroid())&#123;</span><br><span class="line">            screenWidth = screenWidth/window.devicePixelRatio;</span><br><span class="line">        &#125;</span><br><span class="line">        this._initZoom = screenWidth /document.body.offsetWidth;</span><br><span class="line">    &#125;</span><br><span class="line">    return this._initZoom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取移动设备最大化大小"><a href="#获取移动设备最大化大小" class="headerlink" title="获取移动设备最大化大小"></a>获取移动设备最大化大小</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function getZoom()&#123;</span><br><span class="line">    var screenWidth = (Math.abs(window.orientation) === 90) ? Math.max(screen.height, screen.width) : Math.min(screen.height, screen.width);</span><br><span class="line">    if(this.isAndroidMobileDevice() &amp;&amp; !this.isNewChromeOnAndroid())&#123;</span><br><span class="line">        screenWidth = screenWidth/window.devicePixelRatio;</span><br><span class="line">    &#125;</span><br><span class="line">    var FixViewPortsExperiment = rendererModel.runningExperiments.FixViewport || rendererModel.runningExperiments.fixviewport;</span><br><span class="line">    var FixViewPortsExperimentRunning = FixViewPortsExperiment &amp;&amp; (FixViewPortsExperiment === &quot;New&quot; || FixViewPortsExperiment === &quot;new&quot;);</span><br><span class="line">    if(FixViewPortsExperimentRunning)&#123;</span><br><span class="line">        return screenWidth / window.innerWidth;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return screenWidth / document.body.offsetWidth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取移动设备屏幕宽度"><a href="#获取移动设备屏幕宽度" class="headerlink" title="获取移动设备屏幕宽度"></a>获取移动设备屏幕宽度</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getScreenWidth()&#123;</span><br><span class="line">    var smallerSide = Math.min(screen.width, screen.height);</span><br><span class="line">    var fixViewPortsExperiment = rendererModel.runningExperiments.FixViewport || rendererModel.runningExperiments.fixviewport;</span><br><span class="line">    var fixViewPortsExperimentRunning = fixViewPortsExperiment &amp;&amp; (fixViewPortsExperiment.toLowerCase() === &quot;new&quot;);</span><br><span class="line">    if(fixViewPortsExperiment)&#123;</span><br><span class="line">        if(this.isAndroidMobileDevice() &amp;&amp; !this.isNewChromeOnAndroid())&#123;</span><br><span class="line">            smallerSide = smallerSide/window.devicePixelRatio;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return smallerSide;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="完美判断是否为网址"><a href="#完美判断是否为网址" class="headerlink" title="完美判断是否为网址"></a>完美判断是否为网址</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function IsURL(strUrl) &#123;</span><br><span class="line">    var regular = /^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&amp;?=+,.!\/~%\$]*)?)$/i</span><br><span class="line">    if (regular.test(strUrl)) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="根据样式名称检索元素对象"><a href="#根据样式名称检索元素对象" class="headerlink" title="根据样式名称检索元素对象"></a>根据样式名称检索元素对象</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function getElementsByClassName(name) &#123;</span><br><span class="line">    var tags = document.getElementsByTagName(&#x27;*&#x27;) || document.all;</span><br><span class="line">    var els = [];</span><br><span class="line">    for (var i = 0; i &lt; tags.length; i++) &#123;</span><br><span class="line">        if (tags[i].className) &#123;</span><br><span class="line">            var cs = tags[i].className.split(&#x27; &#x27;);</span><br><span class="line">            for (var j = 0; j &lt; cs.length; j++) &#123;</span><br><span class="line">                if (name == cs[j]) &#123;</span><br><span class="line">                    els.push(tags[i]);</span><br><span class="line">                    break</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return els</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否以某个字符串开头"><a href="#判断是否以某个字符串开头" class="headerlink" title="判断是否以某个字符串开头"></a>判断是否以某个字符串开头</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 String.prototype.startWith = function (s) &#123;</span><br><span class="line">2     return this.indexOf(s) == 0</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否以某个字符串结束"><a href="#判断是否以某个字符串结束" class="headerlink" title="判断是否以某个字符串结束"></a>判断是否以某个字符串结束</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 String.prototype.endWith = function (s) &#123;</span><br><span class="line">2     var d = this.length - s.length;</span><br><span class="line">3     return (d &gt;= 0 &amp;&amp; this.lastIndexOf(s) == d)</span><br><span class="line">4 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回IE浏览器的版本号"><a href="#返回IE浏览器的版本号" class="headerlink" title="返回IE浏览器的版本号"></a>返回IE浏览器的版本号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function getIE()&#123;</span><br><span class="line">    if (window.ActiveXObject)&#123;</span><br><span class="line">        var v = navigator.userAgent.match(/MSIE ([^;]+)/)[1];</span><br><span class="line">        return parseFloat(v.substring(0, v.indexOf(&quot;.&quot;)))</span><br><span class="line">    &#125;</span><br><span class="line">    return false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取页面高度"><a href="#获取页面高度" class="headerlink" title="获取页面高度"></a>获取页面高度</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function getPageHeight()&#123;</span><br><span class="line">    var g = document, a = g.body, f = g.documentElement, d = g.compatMode == &quot;BackCompat&quot;</span><br><span class="line">            ? a</span><br><span class="line">            : g.documentElement;</span><br><span class="line">    return Math.max(f.scrollHeight, a.scrollHeight, d.clientHeight);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取页面scrollLeft"><a href="#获取页面scrollLeft" class="headerlink" title="获取页面scrollLeft"></a>获取页面scrollLeft</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 function getPageScrollLeft()&#123;</span><br><span class="line">2     var a = document;</span><br><span class="line">3     return a.documentElement.scrollLeft || a.body.scrollLeft;</span><br><span class="line">4 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取页面可视宽度"><a href="#获取页面可视宽度" class="headerlink" title="获取页面可视宽度"></a>获取页面可视宽度</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function getPageViewWidth()&#123;</span><br><span class="line">    var d = document, a = d.compatMode == &quot;BackCompat&quot;</span><br><span class="line">            ? d.body</span><br><span class="line">            : d.documentElement;</span><br><span class="line">    return a.clientWidth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取页面宽度"><a href="#获取页面宽度" class="headerlink" title="获取页面宽度"></a>获取页面宽度</h4><ul>
<li></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function getPageWidth()&#123;</span><br><span class="line">    var g = document, a = g.body, f = g.documentElement, d = g.compatMode == &quot;BackCompat&quot;</span><br><span class="line">            ? a</span><br><span class="line">            : g.documentElement;</span><br><span class="line">    return Math.max(f.scrollWidth, a.scrollWidth, d.clientWidth);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取页面scrollTop"><a href="#获取页面scrollTop" class="headerlink" title="获取页面scrollTop"></a>获取页面scrollTop</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 function getPageScrollTop()&#123;</span><br><span class="line">2     var a = document;</span><br><span class="line">3     return a.documentElement.scrollTop || a.body.scrollTop;</span><br><span class="line">4 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取页面可视高度"><a href="#获取页面可视高度" class="headerlink" title="获取页面可视高度"></a>获取页面可视高度</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function getPageViewHeight() &#123;</span><br><span class="line">    var d = document, a = d.compatMode == &quot;BackCompat&quot;</span><br><span class="line">            ? d.body</span><br><span class="line">            : d.documentElement;</span><br><span class="line">    return a.clientHeight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="跨浏览器添加事件"><a href="#跨浏览器添加事件" class="headerlink" title="跨浏览器添加事件"></a>跨浏览器添加事件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function addEvt(oTarget,sEvtType,fnHandle)&#123;</span><br><span class="line">    if(!oTarget)&#123;return;&#125;</span><br><span class="line">    if(oTarget.addEventListener)&#123;</span><br><span class="line">        oTarget.addEventListener(sEvtType,fnHandle,false);</span><br><span class="line">    &#125;else if(oTarget.attachEvent)&#123;</span><br><span class="line">        oTarget.attachEvent(&quot;on&quot; + sEvtType,fnHandle);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        oTarget[&quot;on&quot; + sEvtType] = fnHandle;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="跨浏览器删除事件"><a href="#跨浏览器删除事件" class="headerlink" title="跨浏览器删除事件"></a>跨浏览器删除事件</h4><ul>
<li></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function delEvt(oTarget,sEvtType,fnHandle)&#123;</span><br><span class="line">    if(!oTarget)&#123;return;&#125;</span><br><span class="line">    if(oTarget.addEventListener)&#123;</span><br><span class="line">        oTarget.addEventListener(sEvtType,fnHandle,false);</span><br><span class="line">    &#125;else if(oTarget.attachEvent)&#123;</span><br><span class="line">        oTarget.attachEvent(&quot;on&quot; + sEvtType,fnHandle);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        oTarget[&quot;on&quot; + sEvtType] = fnHandle;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="去掉url前缀"><a href="#去掉url前缀" class="headerlink" title="去掉url前缀"></a>去掉url前缀</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function removeUrlPrefix(a)&#123;</span><br><span class="line">  a=a.replace(/：/g,&quot;:&quot;).replace(/．/g,&quot;.&quot;).replace(/／/g,&quot;/&quot;);</span><br><span class="line">  while(trim(a).toLowerCase().indexOf(&quot;http://&quot;)==0)&#123;</span><br><span class="line">    a=trim(a.replace(/http:\/\//i,&quot;&quot;));</span><br><span class="line">  &#125;</span><br><span class="line">  return a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="随机数时间戳"><a href="#随机数时间戳" class="headerlink" title="随机数时间戳"></a>随机数时间戳</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 function uniqueId()&#123;</span><br><span class="line">2     var a=Math.random,b=parseInt;</span><br><span class="line">3     return Number(new Date()).toString()+b(10*a())+b(10*a())+b(10*a());</span><br><span class="line">4 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="全角半角转换-iCase-0全到半，1半到全，其他不转化"><a href="#全角半角转换-iCase-0全到半，1半到全，其他不转化" class="headerlink" title="全角半角转换,iCase: 0全到半，1半到全，其他不转化"></a>全角半角转换,iCase: 0全到半，1半到全，其他不转化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function chgCase(sStr,iCase)&#123;</span><br><span class="line">    if(typeof sStr != &quot;string&quot; || sStr.length &lt;= 0 || !(iCase === 0 || iCase == 1))&#123;</span><br><span class="line">        return sStr;</span><br><span class="line">    &#125;</span><br><span class="line">    var i,oRs=[],iCode;</span><br><span class="line">    if(iCase)&#123;/*半-&gt;全*/</span><br><span class="line">        for(i=0; i&lt;sStr.length;i+=1)&#123; </span><br><span class="line">            iCode = sStr.charCodeAt(i);</span><br><span class="line">            if(iCode == 32)&#123;</span><br><span class="line">                iCode = 12288;                </span><br><span class="line">            &#125;else if(iCode &lt; 127)&#123;</span><br><span class="line">                iCode += 65248;</span><br><span class="line">            &#125;</span><br><span class="line">            oRs.push(String.fromCharCode(iCode)); </span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;else&#123;/*全-&gt;半*/</span><br><span class="line">        for(i=0; i&lt;sStr.length;i+=1)&#123; </span><br><span class="line">            iCode = sStr.charCodeAt(i);</span><br><span class="line">            if(iCode == 12288)&#123;</span><br><span class="line">                iCode = 32;</span><br><span class="line">            &#125;else if(iCode &gt; 65280 &amp;&amp; iCode &lt; 65375)&#123;</span><br><span class="line">                iCode -= 65248;                </span><br><span class="line">            &#125;</span><br><span class="line">            oRs.push(String.fromCharCode(iCode)); </span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;        </span><br><span class="line">    return oRs.join(&quot;&quot;);        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="确认是否键盘有效输入值"><a href="#确认是否键盘有效输入值" class="headerlink" title="确认是否键盘有效输入值"></a>确认是否键盘有效输入值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function checkKey(iKey)&#123;</span><br><span class="line">    if(iKey == 32 || iKey == 229)&#123;return true;&#125;/*空格和异常*/</span><br><span class="line">    if(iKey&gt;47 &amp;&amp; iKey &lt; 58)&#123;return true;&#125;/*数字*/</span><br><span class="line">    if(iKey&gt;64 &amp;&amp; iKey &lt; 91)&#123;return true;&#125;/*字母*/</span><br><span class="line">    if(iKey&gt;95 &amp;&amp; iKey &lt; 108)&#123;return true;&#125;/*数字键盘1*/</span><br><span class="line">    if(iKey&gt;108 &amp;&amp; iKey &lt; 112)&#123;return true;&#125;/*数字键盘2*/</span><br><span class="line">    if(iKey&gt;185 &amp;&amp; iKey &lt; 193)&#123;return true;&#125;/*符号1*/</span><br><span class="line">    if(iKey&gt;218 &amp;&amp; iKey &lt; 223)&#123;return true;&#125;/*符号2*/</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取网页被卷去的位置"><a href="#获取网页被卷去的位置" class="headerlink" title="获取网页被卷去的位置"></a>获取网页被卷去的位置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function getScrollXY() &#123;</span><br><span class="line">    return document.body.scrollTop ? &#123;</span><br><span class="line">        x: document.body.scrollLeft,</span><br><span class="line">        y: document.body.scrollTop</span><br><span class="line">    &#125;: &#123;</span><br><span class="line">        x: document.documentElement.scrollLeft,</span><br><span class="line">        y: document.documentElement.scrollTop</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="另一种正则日期格式化函数-调用方法"><a href="#另一种正则日期格式化函数-调用方法" class="headerlink" title="另一种正则日期格式化函数+调用方法"></a>另一种正则日期格式化函数+调用方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Date.prototype.format = function(format)&#123; //author: meizz</span><br><span class="line">  var o = &#123;</span><br><span class="line">    &quot;M+&quot; : this.getMonth()+1, //month</span><br><span class="line">    &quot;d+&quot; : this.getDate(),    //day</span><br><span class="line">    &quot;h+&quot; : this.getHours(),   //hour</span><br><span class="line">    &quot;m+&quot; : this.getMinutes(), //minute</span><br><span class="line">    &quot;s+&quot; : this.getSeconds(), //second</span><br><span class="line">    &quot;q+&quot; : Math.floor((this.getMonth()+3)/3),  //quarter</span><br><span class="line">    &quot;S&quot; : this.getMilliseconds() //millisecond</span><br><span class="line">  &#125;</span><br><span class="line">  if(/(y+)/.test(format)) format=format.replace(RegExp.$1,</span><br><span class="line">    (this.getFullYear()+&quot;&quot;).substr(4 - RegExp.$1.length));</span><br><span class="line">  for(var k in o)if(new RegExp(&quot;(&quot;+ k +&quot;)&quot;).test(format))</span><br><span class="line">    format = format.replace(RegExp.$1,</span><br><span class="line">      RegExp.$1.length==1 ? o[k] :</span><br><span class="line">        (&quot;00&quot;+ o[k]).substr((&quot;&quot;+ o[k]).length));</span><br><span class="line">  return format;</span><br><span class="line">&#125;</span><br><span class="line">alert(new Date().format(&quot;yyyy-MM-dd hh:mm:ss&quot;));</span><br></pre></td></tr></table></figure>

<h4 id="时间个性化输出功能"><a href="#时间个性化输出功能" class="headerlink" title="时间个性化输出功能"></a>时间个性化输出功能</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">1、&lt; 60s, 显示为“刚刚”</span><br><span class="line">2、&gt;= 1min &amp;&amp; &lt; 60 min, 显示与当前时间差“XX分钟前”</span><br><span class="line">3、&gt;= 60min &amp;&amp; &lt; 1day, 显示与当前时间差“今天 XX:XX”</span><br><span class="line">4、&gt;= 1day &amp;&amp; &lt; 1year, 显示日期“XX月XX日 XX:XX”</span><br><span class="line">5、&gt;= 1year, 显示具体日期“XXXX年XX月XX日 XX:XX”</span><br><span class="line"> */</span><br><span class="line">function timeFormat(time)&#123;</span><br><span class="line">  var date = new Date(time)</span><br><span class="line">    , curDate = new Date()</span><br><span class="line">    , year = date.getFullYear()</span><br><span class="line">    , month = date.getMonth() + 1</span><br><span class="line">    , day = date.getDate()</span><br><span class="line">    , hour = date.getHours()</span><br><span class="line">    , minute = date.getMinutes()</span><br><span class="line">    , curYear = curDate.getFullYear()</span><br><span class="line">    , curHour = curDate.getHours()</span><br><span class="line">    , timeStr;</span><br><span class="line"></span><br><span class="line">  if(year &lt; curYear)&#123;</span><br><span class="line">    timeStr = year +&#x27;年&#x27;+ month +&#x27;月&#x27;+ day +&#x27;日 &#x27;+ hour +&#x27;:&#x27;+ minute;</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    var pastTime = curDate - date</span><br><span class="line">      , pastH = pastTime/3600000;</span><br><span class="line"></span><br><span class="line">    if(pastH &gt; curHour)&#123;</span><br><span class="line">      timeStr = month +&#x27;月&#x27;+ day +&#x27;日 &#x27;+ hour +&#x27;:&#x27;+ minute;</span><br><span class="line">    &#125;else if(pastH &gt;= 1)&#123;</span><br><span class="line">      timeStr = &#x27;今天 &#x27; + hour +&#x27;:&#x27;+ minute +&#x27;分&#x27;;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      var pastM = curDate.getMinutes() - minute;</span><br><span class="line">      if(pastM &gt; 1)&#123;</span><br><span class="line">        timeStr = pastM +&#x27;分钟前&#x27;;</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        timeStr = &#x27;刚刚&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return timeStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="解决offsetX兼容性问题"><a href="#解决offsetX兼容性问题" class="headerlink" title="解决offsetX兼容性问题"></a>解决offsetX兼容性问题</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// 针对火狐不支持offsetX/Y</span><br><span class="line">function getOffset(e)&#123;</span><br><span class="line">  var target = e.target, // 当前触发的目标对象</span><br><span class="line">      eventCoord,</span><br><span class="line">      pageCoord,</span><br><span class="line">      offsetCoord;</span><br><span class="line"></span><br><span class="line">  // 计算当前触发元素到文档的距离</span><br><span class="line">  pageCoord = getPageCoord(target);</span><br><span class="line"></span><br><span class="line">  // 计算光标到文档的距离</span><br><span class="line">  eventCoord = &#123;</span><br><span class="line">    X : window.pageXOffset + e.clientX,</span><br><span class="line">    Y : window.pageYOffset + e.clientY</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  // 相减获取光标到第一个定位的父元素的坐标</span><br><span class="line">  offsetCoord = &#123;</span><br><span class="line">    X : eventCoord.X - pageCoord.X,</span><br><span class="line">    Y : eventCoord.Y - pageCoord.Y</span><br><span class="line">  &#125;;</span><br><span class="line">  return offsetCoord;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getPageCoord(element)&#123;</span><br><span class="line">  var coord = &#123; X : 0, Y : 0 &#125;;</span><br><span class="line">  // 计算从当前触发元素到根节点为止，</span><br><span class="line">  // 各级 offsetParent 元素的 offsetLeft 或 offsetTop 值之和</span><br><span class="line">  while (element)&#123;</span><br><span class="line">    coord.X += element.offsetLeft;</span><br><span class="line">    coord.Y += element.offsetTop;</span><br><span class="line">    element = element.offsetParent;</span><br><span class="line">  &#125;</span><br><span class="line">  return coord;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="常用的正则表达式"><a href="#常用的正则表达式" class="headerlink" title="常用的正则表达式"></a>常用的正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//正整数</span><br><span class="line">/^[0-9]*[1-9][0-9]*$/;</span><br><span class="line">//负整数</span><br><span class="line">/^-[0-9]*[1-9][0-9]*$/;</span><br><span class="line">//正浮点数</span><br><span class="line">/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/;   </span><br><span class="line">//负浮点数</span><br><span class="line">/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;  </span><br><span class="line">//浮点数</span><br><span class="line">/^(-?\d+)(\.\d+)?$/;</span><br><span class="line">//email地址</span><br><span class="line">/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;</span><br><span class="line">//url地址</span><br><span class="line">/^[a-zA-z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$/;</span><br><span class="line">//年/月/日（年-月-日、年.月.日）</span><br><span class="line">/^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/;</span><br><span class="line">//匹配中文字符</span><br><span class="line">/[\u4e00-\u9fa5]/;</span><br><span class="line">//匹配帐号是否合法(字母开头，允许5-10字节，允许字母数字下划线)</span><br><span class="line">/^[a-zA-Z][a-zA-Z0-9_]&#123;4,9&#125;$/;</span><br><span class="line">//匹配空白行的正则表达式</span><br><span class="line">/\n\s*\r/;</span><br><span class="line">//匹配中国邮政编码</span><br><span class="line">/[1-9]\d&#123;5&#125;(?!\d)/;</span><br><span class="line">//匹配身份证</span><br><span class="line">/\d&#123;15&#125;|\d&#123;18&#125;/;</span><br><span class="line">//匹配国内电话号码</span><br><span class="line">/(\d&#123;3&#125;-|\d&#123;4&#125;-)?(\d&#123;8&#125;|\d&#123;7&#125;)?/;</span><br><span class="line">//匹配IP地址</span><br><span class="line">/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.)&#123;3&#125;(2[0-4]\d|25[0-5]|[01]?\d\d?)/;</span><br><span class="line">//匹配首尾空白字符的正则表达式</span><br><span class="line">/^\s*|\s*$/;</span><br><span class="line">//匹配HTML标记的正则表达式</span><br><span class="line">&lt; (\S*?)[^&gt;]*&gt;.*?|&lt; .*? /&gt;;</span><br></pre></td></tr></table></figure>

<h4 id="实现返回顶部的通用方法"><a href="#实现返回顶部的通用方法" class="headerlink" title="实现返回顶部的通用方法"></a>实现返回顶部的通用方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function backTop(btnId) &#123;</span><br><span class="line">    var btn = document.getElementById(btnId);</span><br><span class="line">    var d = document.documentElement;</span><br><span class="line">    var b = document.body;</span><br><span class="line">    window.onscroll = set;</span><br><span class="line">    btn.style.display = &quot;none&quot;;</span><br><span class="line">    btn.onclick = function() &#123;</span><br><span class="line">        btn.style.display = &quot;none&quot;;</span><br><span class="line">        window.onscroll = null;</span><br><span class="line">        this.timer = setInterval(function() &#123;</span><br><span class="line">            d.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1);</span><br><span class="line">            b.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1);</span><br><span class="line">            if ((d.scrollTop + b.scrollTop) == 0) clearInterval(btn.timer, window.onscroll = set);</span><br><span class="line">        &#125;,</span><br><span class="line">        10);</span><br><span class="line">    &#125;;</span><br><span class="line">    function set() &#123;</span><br><span class="line">        btn.style.display = (d.scrollTop + b.scrollTop &gt; 100) ? &#x27;block&#x27;: &quot;none&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">backTop(&#x27;goTop&#x27;);</span><br></pre></td></tr></table></figure>

<h4 id="获得URL中GET参数值"><a href="#获得URL中GET参数值" class="headerlink" title="获得URL中GET参数值"></a>获得URL中GET参数值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 用法：如果地址是 test.htm?t1=1&amp;t2=2&amp;t3=3, 那么能取得：GET[&quot;t1&quot;], GET[&quot;t2&quot;], GET[&quot;t3&quot;]</span><br><span class="line">function get_get()&#123; </span><br><span class="line">  querystr = window.location.href.split(&quot;?&quot;)</span><br><span class="line">  if(querystr[1])&#123;</span><br><span class="line">    GETs = querystr[1].split(&quot;&amp;&quot;)</span><br><span class="line">    GET =new Array()</span><br><span class="line">    for(i=0;i&lt;GETs.length;i++)&#123;</span><br><span class="line">      tmp_arr = GETs[i].split(&quot;=&quot;)</span><br><span class="line">      key=tmp_arr[0]</span><br><span class="line">      GET[key] = tmp_arr[1]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return querystr[1];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现全选通用方法"><a href="#实现全选通用方法" class="headerlink" title="实现全选通用方法"></a>实现全选通用方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function checkall(form, prefix, checkall) &#123;</span><br><span class="line">    var checkall = checkall ? checkall : &#x27;chkall&#x27;;</span><br><span class="line">    for(var i = 0; i &lt; form.elements.length; i++) &#123;</span><br><span class="line">        var e = form.elements[i];</span><br><span class="line">        if(e.type==&quot;checkbox&quot;)&#123;</span><br><span class="line">            e.checked = form.elements[checkall].checked;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现全部取消选择通用方法"><a href="#实现全部取消选择通用方法" class="headerlink" title="实现全部取消选择通用方法"></a>实现全部取消选择通用方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function uncheckAll(form) &#123;</span><br><span class="line">    for (var i=0;i&lt;form.elements.length;i++)&#123;</span><br><span class="line">        var e = form.elements[i];</span><br><span class="line">        if (e.name != &#x27;chkall&#x27;)</span><br><span class="line">        e.checked=!e.checked;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现打开一个窗体通用方法"><a href="#实现打开一个窗体通用方法" class="headerlink" title="实现打开一个窗体通用方法"></a>实现打开一个窗体通用方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function openWindow(url,windowName,width,height)&#123;</span><br><span class="line">    var x = parseInt(screen.width / 2.0) - (width / 2.0); </span><br><span class="line">    var y = parseInt(screen.height / 2.0) - (height / 2.0);</span><br><span class="line">    var isMSIE= (navigator.appName == &quot;Microsoft Internet Explorer&quot;);</span><br><span class="line">    if (isMSIE) &#123;</span><br><span class="line">        var p = &quot;resizable=1,location=no,scrollbars=no,width=&quot;;</span><br><span class="line">        p = p+width;</span><br><span class="line">        p = p+&quot;,height=&quot;;</span><br><span class="line">        p = p+height;</span><br><span class="line">        p = p+&quot;,left=&quot;;</span><br><span class="line">        p = p+x;</span><br><span class="line">        p = p+&quot;,top=&quot;;</span><br><span class="line">        p = p+y;</span><br><span class="line">        retval = window.open(url, windowName, p);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        var win = window.open(url, &quot;ZyiisPopup&quot;, &quot;top=&quot; + y + &quot;,left=&quot; + x + &quot;,scrollbars=&quot; + scrollbars + &quot;,dialog=yes,modal=yes,width=&quot; + width + &quot;,height=&quot; + height + &quot;,resizable=no&quot; );</span><br><span class="line">        eval(&quot;try &#123; win.resizeTo(width, height); &#125; catch(e) &#123; &#125;&quot;);</span><br><span class="line">        win.focus();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否为客户端设备"><a href="#判断是否为客户端设备" class="headerlink" title="判断是否为客户端设备"></a>判断是否为客户端设备</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function client(o)&#123;    </span><br><span class="line">       var b = navigator.userAgent.toLowerCase();   </span><br><span class="line">       var t = false;</span><br><span class="line">       if (o == &#x27;isOP&#x27;)&#123;</span><br><span class="line">             t = b.indexOf(&#x27;opera&#x27;) &gt; -1;</span><br><span class="line">       &#125;</span><br><span class="line">       if (o == &#x27;isIE&#x27;)&#123;</span><br><span class="line">             t = b.indexOf(&#x27;msie&#x27;) &gt; -1;</span><br><span class="line">       &#125;</span><br><span class="line">       if (o == &#x27;isFF&#x27;)&#123;</span><br><span class="line">             t = b.indexOf(&#x27;firefox&#x27;) &gt; -1;</span><br><span class="line">       &#125;</span><br><span class="line">       return t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取单选按钮的值"><a href="#获取单选按钮的值" class="headerlink" title="获取单选按钮的值"></a>获取单选按钮的值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function get_radio_value(field)&#123;</span><br><span class="line">    if(field&amp;&amp;field.length)&#123;    </span><br><span class="line">        for(var i=0;i&lt;field.length;i++)&#123;        </span><br><span class="line">            if(field[i].checked)&#123;            </span><br><span class="line">                return field[i].value;                                </span><br><span class="line">            &#125;            </span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;else &#123;        </span><br><span class="line">        return ;                </span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取复选框的值"><a href="#获取复选框的值" class="headerlink" title="获取复选框的值"></a>获取复选框的值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function get_checkbox_value(field)&#123;    </span><br><span class="line">    if(field&amp;&amp;field.length)&#123;    </span><br><span class="line">        for(var i=0;i&lt;field.length;i++)&#123;            </span><br><span class="line">            if(field[i].checked &amp;&amp; !field[i].disabled)&#123;</span><br><span class="line">                return field[i].value;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;            </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否为邮箱"><a href="#判断是否为邮箱" class="headerlink" title="判断是否为邮箱"></a>判断是否为邮箱</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function isEmail(str)&#123;</span><br><span class="line">    var re=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/; </span><br><span class="line">    if (re.test(str) != true) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断是否有列表中的危险字符"><a href="#判断是否有列表中的危险字符" class="headerlink" title="判断是否有列表中的危险字符"></a>判断是否有列表中的危险字符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function isValidReg(chars)&#123;</span><br><span class="line">    var re=/&lt;|&gt;|\[|\]|\&#123;|\&#125;|『|』|※|○|●|◎|§|△|▲|☆|★|◇|◆|□|▼|㊣|﹋|⊕|⊙|〒|ㄅ|ㄆ|ㄇ|ㄈ|ㄉ|ㄊ|ㄋ|ㄌ|ㄍ|ㄎ|ㄏ|ㄐ|ㄑ|ㄒ|ㄓ|ㄔ|ㄕ|ㄖ|ㄗ|ㄘ|ㄙ|ㄚ|ㄛ|ㄜ|ㄝ|ㄞ|ㄟ|ㄢ|ㄣ|ㄤ|ㄥ|ㄦ|ㄧ|ㄨ|ㄩ|■|▄|▆|\*|@|#|\^|\\/;</span><br><span class="line">    if (re.test( chars) == true) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符串是否大于规定的长度"><a href="#判断字符串是否大于规定的长度" class="headerlink" title="判断字符串是否大于规定的长度"></a>判断字符串是否大于规定的长度</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function isValidLength(chars, len) &#123;</span><br><span class="line">    if (chars.length &lt; len) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符串是为网址不区分大小写"><a href="#判断字符串是为网址不区分大小写" class="headerlink" title="判断字符串是为网址不区分大小写"></a>判断字符串是为网址不区分大小写</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function isValidURL( chars ) &#123;</span><br><span class="line">    var re=/^([hH][tT]&#123;2&#125;[pP]:\/\/|[hH][tT]&#123;2&#125;[pP][sS]:\/\/)(\S+\.\S+)$/;</span><br><span class="line">    if (!isNULL(chars)) &#123;</span><br><span class="line">        chars = jsTrim(chars);</span><br><span class="line">        if (chars.match(re) == null)</span><br><span class="line">            return false;</span><br><span class="line">        else</span><br><span class="line">            return true;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符串是否为小数"><a href="#判断字符串是否为小数" class="headerlink" title="判断字符串是否为小数"></a>判断字符串是否为小数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function isValidDecimal( chars ) &#123;</span><br><span class="line">    var re=/^\d*\.?\d&#123;1,2&#125;$/;</span><br><span class="line">    if (chars.match(re) == null)</span><br><span class="line">        return false;</span><br><span class="line">    else</span><br><span class="line">        return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符串是否为整数"><a href="#判断字符串是否为整数" class="headerlink" title="判断字符串是否为整数"></a>判断字符串是否为整数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function isNumber( chars ) &#123;</span><br><span class="line">    var re=/^\d*$/;</span><br><span class="line">    if (chars.match(re) == null)</span><br><span class="line">        return false;</span><br><span class="line">    else</span><br><span class="line">        return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符串是否为浮点数"><a href="#判断字符串是否为浮点数" class="headerlink" title="判断字符串是否为浮点数"></a>判断字符串是否为浮点数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function isFloat( str ) &#123;</span><br><span class="line">    for(i=0;i&lt;str.length;i++)  &#123;</span><br><span class="line">       if ((str.charAt(i)&lt;&quot;0&quot; || str.charAt(i)&gt;&quot;9&quot;)&amp;&amp; str.charAt(i) != &#x27;.&#x27;)&#123;</span><br><span class="line">            return false;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符是否为A-Za-z英文字母"><a href="#判断字符是否为A-Za-z英文字母" class="headerlink" title="判断字符是否为A-Za-z英文字母"></a>判断字符是否为A-Za-z英文字母</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function isLetters( str )&#123;</span><br><span class="line">    var re=/^[A-Za-z]+$/;</span><br><span class="line">    if (str.match(re) == null)</span><br><span class="line">        return false;</span><br><span class="line">    else</span><br><span class="line">        return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符串是否邮政编码"><a href="#判断字符串是否邮政编码" class="headerlink" title="判断字符串是否邮政编码"></a>判断字符串是否邮政编码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function isValidPost( chars ) &#123;</span><br><span class="line">    var re=/^\d&#123;6&#125;$/;</span><br><span class="line">    if (chars.match(re) == null)</span><br><span class="line">        return false;</span><br><span class="line">    else</span><br><span class="line">        return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断字符是否空NULL"><a href="#判断字符是否空NULL" class="headerlink" title="判断字符是否空NULL"></a>判断字符是否空NULL</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function isNULL( chars ) &#123;</span><br><span class="line">    if (chars == null)</span><br><span class="line">        return true;</span><br><span class="line">    if (jsTrim(chars).length==0)</span><br><span class="line">        return true;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="用正则表达式提取页面代码中所有网址"><a href="#用正则表达式提取页面代码中所有网址" class="headerlink" title="用正则表达式提取页面代码中所有网址"></a>用正则表达式提取页面代码中所有网址</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 var aa = document.documentElement.outerHTML.match(/(url\(|src=|href=)[\&quot;\&#x27;]*([^\&quot;\&#x27;\(\)\&lt;\&gt;\[\] ]+)[\&quot;\&#x27;\)]*|(http:\/\/[\w\-\.]+[^\&quot;\&#x27;\(\)\&lt;\&gt;\[\] ]+)/ig).join(&quot;\r\n&quot;).replace(/^(src=|href=|url\()[\&quot;\&#x27;]*|[\&quot;\&#x27;\&gt;\) ]*$/igm,&quot;&quot;);</span><br><span class="line">2 alert(aa)</span><br></pre></td></tr></table></figure>

<h4 id="用正则表达式清除相同的数组-低效率"><a href="#用正则表达式清除相同的数组-低效率" class="headerlink" title="用正则表达式清除相同的数组(低效率)"></a>用正则表达式清除相同的数组(低效率)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 Array.prototype.unique=function()&#123;</span><br><span class="line">2     return this.reverse().join(&quot;,&quot;).match(/([^,]+)(?!.*\1)/ig).reverse();</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="用正则表达式清除相同的数组-高效率"><a href="#用正则表达式清除相同的数组-高效率" class="headerlink" title="用正则表达式清除相同的数组(高效率)"></a>用正则表达式清除相同的数组(高效率)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String.prototype.unique=function()&#123;</span><br><span class="line">    var x=this.split(/[\r\n]+/);</span><br><span class="line">    var y=&#x27;&#x27;;</span><br><span class="line">    for(var i=0;i&lt;x.length;i++)&#123;</span><br><span class="line">        if(!new RegExp(&quot;^&quot;+x[i].replace(/([^\w])/ig,&quot;\\$1&quot;)+&quot;$&quot;,&quot;igm&quot;).test(y))&#123;</span><br><span class="line">            y+=x[i]+&quot;\r\n&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="用正则表达式按字母排序，对每行进行数组排序"><a href="#用正则表达式按字母排序，对每行进行数组排序" class="headerlink" title="用正则表达式按字母排序，对每行进行数组排序"></a>用正则表达式按字母排序，对每行进行数组排序</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 function SetSort()&#123;</span><br><span class="line">2     var text=K1.value.split(/[\r\n]/).sort().join(&quot;\r\n&quot;);//顺序</span><br><span class="line">3     var test=K1.value.split(/[\r\n]/).sort().reverse().join(&quot;\r\n&quot;);//反序</span><br><span class="line">4     K1.value=K1.value!=text?text:test;</span><br><span class="line">5 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="字符串反序"><a href="#字符串反序" class="headerlink" title="字符串反序"></a>字符串反序</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 function IsReverse(text)&#123;</span><br><span class="line">2     return text.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;);</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="用正则表达式清除html代码中的脚本"><a href="#用正则表达式清除html代码中的脚本" class="headerlink" title="用正则表达式清除html代码中的脚本"></a>用正则表达式清除html代码中的脚本</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 function clear_script()&#123;</span><br><span class="line">2   K1.value=K1.value.replace(/&lt;script.*?&gt;[\s\S]*?&lt;\/script&gt;|\s+on[a-zA-Z]&#123;3,16&#125;\s?=\s?&quot;[\s\S]*?&quot;|\s+on[a-zA-Z]&#123;3,16&#125;\s?=\s?&#x27;[\s\S]*?&#x27;|\s+on[a-zA-Z]&#123;3,16&#125;\s?=[^ &gt;]+/ig,&quot;&quot;);</span><br><span class="line">3 &#125;</span><br></pre></td></tr></table></figure>

<h4 id="动态执行JavaScript脚本"><a href="#动态执行JavaScript脚本" class="headerlink" title="动态执行JavaScript脚本"></a>动态执行JavaScript脚本</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function javascript()&#123;</span><br><span class="line">    try&#123;</span><br><span class="line">      eval(K1.value);</span><br><span class="line">    &#125;catch(e)&#123;</span><br><span class="line">        alert(e.message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="动态执行VBScript脚本"><a href="#动态执行VBScript脚本" class="headerlink" title="动态执行VBScript脚本"></a>动态执行VBScript脚本</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function vbscript()&#123;</span><br><span class="line">    try&#123;</span><br><span class="line">        var script=document.getElementById(&quot;K1&quot;).value;</span><br><span class="line">        if(script.trim()==&quot;&quot;)return;</span><br><span class="line">        window.execScript(&#x27;On Error Resume Next \n&#x27;+script+&#x27;\n If Err.Number&lt;&gt;0 Then \n MsgBox &quot;请输入正确的VBScript脚本!&quot;,48,&quot;脚本错误!&quot; \n End If&#x27;,&quot;vbscript&quot;)</span><br><span class="line">    &#125;catch(e)&#123;</span><br><span class="line">        alert(e.message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现金额大写转换函数"><a href="#实现金额大写转换函数" class="headerlink" title="实现金额大写转换函数"></a>实现金额大写转换函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">function transform(tranvalue) &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    var i = 1;</span><br><span class="line">    var dw2 = new Array(&quot;&quot;, &quot;万&quot;, &quot;亿&quot;); //大单位</span><br><span class="line">    var dw1 = new Array(&quot;拾&quot;, &quot;佰&quot;, &quot;仟&quot;); //小单位</span><br><span class="line">    var dw = new Array(&quot;零&quot;, &quot;壹&quot;, &quot;贰&quot;, &quot;叁&quot;, &quot;肆&quot;, &quot;伍&quot;, &quot;陆&quot;, &quot;柒&quot;, &quot;捌&quot;, &quot;玖&quot;); //整数部分用</span><br><span class="line">    //以下是小写转换成大写显示在合计大写的文本框中     </span><br><span class="line">    //分离整数与小数</span><br><span class="line">    var source = splits(tranvalue);</span><br><span class="line">    var num = source[0];</span><br><span class="line">    var dig = source[1];</span><br><span class="line">    //转换整数部分</span><br><span class="line">    var k1 = 0; //计小单位</span><br><span class="line">    var k2 = 0; //计大单位</span><br><span class="line">    var sum = 0;</span><br><span class="line">    var str = &quot;&quot;;</span><br><span class="line">    var len = source[0].length; //整数的长度</span><br><span class="line">    for (i = 1; i &lt;= len; i++) &#123;</span><br><span class="line">      var n = source[0].charAt(len - i); //取得某个位数上的数字</span><br><span class="line">      var bn = 0;</span><br><span class="line">      if (len - i - 1 &gt;= 0) &#123;</span><br><span class="line">        bn = source[0].charAt(len - i - 1); //取得某个位数前一位上的数字</span><br><span class="line">      &#125;</span><br><span class="line">      sum = sum + Number(n);</span><br><span class="line">      if (sum != 0) &#123;</span><br><span class="line">        str = dw[Number(n)].concat(str); //取得该数字对应的大写数字，并插入到str字符串的前面</span><br><span class="line">        if (n == &#x27;0&#x27;) sum = 0;</span><br><span class="line">      &#125;</span><br><span class="line">      if (len - i - 1 &gt;= 0) &#123; //在数字范围内</span><br><span class="line">        if (k1 != 3) &#123; //加小单位</span><br><span class="line">          if (bn != 0) &#123;</span><br><span class="line">            str = dw1[k1].concat(str);</span><br><span class="line">          &#125;</span><br><span class="line">          k1++;</span><br><span class="line">        &#125; else &#123; //不加小单位，加大单位</span><br><span class="line">          k1 = 0;</span><br><span class="line">          var temp = str.charAt(0);</span><br><span class="line">          if (temp == &quot;万&quot; || temp == &quot;亿&quot;) //若大单位前没有数字则舍去大单位</span><br><span class="line">          str = str.substr(1, str.length - 1);</span><br><span class="line">          str = dw2[k2].concat(str);</span><br><span class="line">          sum = 0;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      if (k1 == 3) //小单位到千则大单位进一</span><br><span class="line">      &#123;</span><br><span class="line">        k2++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //转换小数部分</span><br><span class="line">    var strdig = &quot;&quot;;</span><br><span class="line">    if (dig != &quot;&quot;) &#123;</span><br><span class="line">      var n = dig.charAt(0);</span><br><span class="line">      if (n != 0) &#123;</span><br><span class="line">        strdig += dw[Number(n)] + &quot;角&quot;; //加数字</span><br><span class="line">      &#125;</span><br><span class="line">      var n = dig.charAt(1);</span><br><span class="line">      if (n != 0) &#123;</span><br><span class="line">        strdig += dw[Number(n)] + &quot;分&quot;; //加数字</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    str += &quot;元&quot; + strdig;</span><br><span class="line">  &#125; catch(e) &#123;</span><br><span class="line">    return &quot;0元&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  return str;</span><br><span class="line">&#125;</span><br><span class="line">//拆分整数与小数</span><br><span class="line">function splits(tranvalue) &#123;</span><br><span class="line">  var value = new Array(&#x27;&#x27;, &#x27;&#x27;);</span><br><span class="line">  temp = tranvalue.split(&quot;.&quot;);</span><br><span class="line">  for (var i = 0; i &lt; temp.length; i++) &#123;</span><br><span class="line">    value[i] = temp[i];</span><br><span class="line">  &#125;</span><br><span class="line">  return value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="常用的正则表达式大收集"><a href="#常用的正则表达式大收集" class="headerlink" title="常用的正则表达式大收集"></a>常用的正则表达式大收集</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">匹配中文字符的正则表达式： [\u4e00-\u9fa5] </span><br><span class="line">匹配双字节字符（包括汉字在内）：[^\x00-\xff] </span><br><span class="line">匹配空行的正则表达式：\n[\s| ]*\r </span><br><span class="line">匹配 HTML 标记的正则表达式：&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt;</span><br><span class="line">匹配首尾空格的正则表达式：(^\s*)|(\s*$) </span><br><span class="line">匹配 IP 地址的正则表达式：/(\d+)\.(\d+)\.(\d+)\.(\d+)/g</span><br><span class="line">匹配 Email 地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*</span><br><span class="line">匹配网址 URL 的正则表达式：http://(/[\w-]+\.)+[\w-]+(/[\w- ./?%&amp;=]*)?</span><br><span class="line">sql 语句：^(select|drop|delete|create|update|insert).*$ </span><br><span class="line">非负整数：^\d+$ </span><br><span class="line">正整数：^[0-9]*[1-9][0-9]*$ </span><br><span class="line">非正整数：^((-\d+)|(0+))$ </span><br><span class="line">负整数：^-[0-9]*[1-9][0-9]*$ </span><br><span class="line">整数：^-?\d+$ </span><br><span class="line">非负浮点数：^\d+(\.\d+)?$ </span><br><span class="line">正浮点数：^((0-9)+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$ </span><br><span class="line">非正浮点数：^((-\d+\.\d+)?)|(0+(\.0+)?))$ </span><br><span class="line">英文字符串：^[A-Za-z]+$ </span><br><span class="line">英文大写串：^[A-Z]+$ </span><br><span class="line">英文小写串：^[a-z]+$ </span><br><span class="line">英文字符数字串：^[A-Za-z0-9]+$ </span><br><span class="line">英数字加下划线串：^\w+$ </span><br><span class="line">E-mail地址：^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$ </span><br><span class="line">URL：^[a-zA-Z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\s*)?$ 或：^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&amp;_~`@[\]\&#x27;:+!]*([^&lt;&gt;\&quot;\&quot;])*$ </span><br><span class="line">邮政编码：^[1-9]\d&#123;5&#125;$ </span><br><span class="line">电话号码：^((\(\d&#123;2,3&#125;\))|(\d&#123;3&#125;\-))?(\(0\d&#123;2,3&#125;\)|0\d&#123;2,3&#125;-)?[1-9]\d&#123;6,7&#125;(\-\d&#123;1,4&#125;)?$ </span><br><span class="line">手机号码：^((\(\d&#123;2,3&#125;\))|(\d&#123;3&#125;\-))?13\d&#123;9&#125;$ </span><br><span class="line">双字节字符（包括汉字在内）：^\x00-\xff </span><br><span class="line">匹配首尾空格：(^\s*)|(\s*$)</span><br><span class="line">匹配 HTML 标记：&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt; </span><br><span class="line">匹配空行：\n[\s| ]*\r </span><br><span class="line">提取信息中的网络链接：(h|H)(r|R)(e|E)(f|F) *= *(&#x27;|&quot;)?(\w|\\|\/|\.)+(&#x27;|&quot;| *|&gt;)? </span><br><span class="line">提取信息中的邮件地址：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* </span><br><span class="line">提取信息中的图片链接：(s|S)(r|R)(c|C) *= *(&#x27;|&quot;)?(\w|\\|\/|\.)+(&#x27;|&quot;| *|&gt;)? </span><br><span class="line">提取信息中的 IP 地址：(\d+)\.(\d+)\.(\d+)\.(\d+) </span><br><span class="line">提取信息中的中国手机号码：(86)*0*13\d&#123;9&#125; </span><br><span class="line">提取信息中的中国固定电话号码：(\(\d&#123;3,4&#125;\)|\d&#123;3,4&#125;-|\s)?\d&#123;8&#125; </span><br><span class="line">提取信息中的中国电话号码（包括移动和固定电话）：(\(\d&#123;3,4&#125;\)|\d&#123;3,4&#125;-|\s)?\d&#123;7,14&#125; </span><br><span class="line">提取信息中的中国邮政编码：[1-9]&#123;1&#125;(\d+)&#123;5&#125; </span><br><span class="line">提取信息中的浮点数（即小数）：(-?\d*)\.?\d+ </span><br><span class="line">提取信息中的任何数字 ：(-?\d*)(\.\d+)? </span><br><span class="line">IP：(\d+)\.(\d+)\.(\d+)\.(\d+) </span><br><span class="line">电话区号：^0\d&#123;2,3&#125;$</span><br><span class="line">腾讯 QQ 号：^[1-9]*[1-9][0-9]*$ </span><br><span class="line">帐号（字母开头，允许 5-16 字节，允许字母数字下划线）：^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$ </span><br><span class="line">中文、英文、数字及下划线：^[\u4e00-\u9fa5_a-zA-Z0-9]+$</span><br></pre></td></tr></table></figure>

<h4 id="实现窗体改变事件resize的操作"><a href="#实现窗体改变事件resize的操作" class="headerlink" title="实现窗体改变事件resize的操作"></a>实现窗体改变事件resize的操作</h4><blockquote>
<p>兼容所以的浏览器</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">    var fn = function()&#123;</span><br><span class="line">        var w = document.documentElement ? document.documentElement.clientWidth : document.body.clientWidth</span><br><span class="line">            ,r = 1255</span><br><span class="line">            ,b = Element.extend(document.body)</span><br><span class="line">            ,classname = b.className;</span><br><span class="line">        if(w &lt; r)&#123;</span><br><span class="line">            //当窗体的宽度小于1255的时候执行相应的操作</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            //当窗体的宽度大于1255的时候执行相应的操作</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if(window.addEventListener)&#123;</span><br><span class="line">        window.addEventListener(&#x27;resize&#x27;, function()&#123; fn(); &#125;);</span><br><span class="line">    &#125;else if(window.attachEvent)&#123;</span><br><span class="line">        window.attachEvent(&#x27;onresize&#x27;, function()&#123; fn(); &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    fn();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h4 id="用正则清除空格分左右"><a href="#用正则清除空格分左右" class="headerlink" title="用正则清除空格分左右"></a>用正则清除空格分左右</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 function ltrim(s)&#123; return s.replace( /^(\s*| *)/, &quot;&quot;); &#125; </span><br><span class="line">2 function rtrim(s)&#123; return s.replace( /(\s*| *)$/, &quot;&quot;); &#125; </span><br><span class="line">3 function trim(s)&#123; return ltrim(rtrim(s));&#125; </span><br></pre></td></tr></table></figure>

<h4 id="判断变量是否空值"><a href="#判断变量是否空值" class="headerlink" title="判断变量是否空值"></a>判断变量是否空值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 判断变量是否空值</span><br><span class="line"> * undefined, null, &#x27;&#x27;, false, 0, [], &#123;&#125; 均返回true，否则返回false</span><br><span class="line"> */</span><br><span class="line">function empty(v)&#123;</span><br><span class="line">    switch (typeof v)&#123;</span><br><span class="line">        case &#x27;undefined&#x27; : return true;</span><br><span class="line">        case &#x27;string&#x27;    : if(trim(v).length == 0) return true; break;</span><br><span class="line">        case &#x27;boolean&#x27;   : if(!v) return true; break;</span><br><span class="line">        case &#x27;number&#x27;    : if(0 === v) return true; break;</span><br><span class="line">        case &#x27;object&#x27;    : </span><br><span class="line">            if(null === v) return true;</span><br><span class="line">            if(undefined !== v.length &amp;&amp; v.length==0) return true;</span><br><span class="line">            for(var k in v)&#123;return false;&#125; return true;</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现base64解码"><a href="#实现base64解码" class="headerlink" title="实现base64解码"></a>实现base64解码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function base64_decode(data)&#123;</span><br><span class="line">    var b64 = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;;</span><br><span class="line">    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0,ac = 0,dec = &quot;&quot;,tmp_arr = [];</span><br><span class="line">    if (!data) &#123; return data; &#125;</span><br><span class="line">    data += &#x27;&#x27;;</span><br><span class="line">    do &#123; </span><br><span class="line">        h1 = b64.indexOf(data.charAt(i++));</span><br><span class="line">        h2 = b64.indexOf(data.charAt(i++));</span><br><span class="line">        h3 = b64.indexOf(data.charAt(i++));</span><br><span class="line">        h4 = b64.indexOf(data.charAt(i++));</span><br><span class="line">        bits = h1 &lt;&lt; 18 | h2 &lt;&lt; 12 | h3 &lt;&lt; 6 | h4;</span><br><span class="line">        o1 = bits &gt;&gt; 16 &amp; 0xff;</span><br><span class="line">        o2 = bits &gt;&gt; 8 &amp; 0xff;</span><br><span class="line">        o3 = bits &amp; 0xff;</span><br><span class="line">        if (h3 == 64) &#123;</span><br><span class="line">            tmp_arr[ac++] = String.fromCharCode(o1);</span><br><span class="line">        &#125; else if (h4 == 64) &#123;</span><br><span class="line">            tmp_arr[ac++] = String.fromCharCode(o1, o2);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            tmp_arr[ac++] = String.fromCharCode(o1, o2, o3);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; while (i &lt; data.length);</span><br><span class="line">    dec = tmp_arr.join(&#x27;&#x27;);</span><br><span class="line">    dec = utf8_decode(dec);</span><br><span class="line">    return dec;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实现utf8解码"><a href="#实现utf8解码" class="headerlink" title="实现utf8解码"></a>实现utf8解码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function utf8_decode(str_data)&#123;</span><br><span class="line">    var tmp_arr = [],i = 0,ac = 0,c1 = 0,c2 = 0,c3 = 0;str_data += &#x27;&#x27;;</span><br><span class="line">    while (i &lt; str_data.length) &#123;</span><br><span class="line">        c1 = str_data.charCodeAt(i);</span><br><span class="line">        if (c1 &lt; 128) &#123;</span><br><span class="line">            tmp_arr[ac++] = String.fromCharCode(c1);</span><br><span class="line">            i++;</span><br><span class="line">        &#125; else if (c1 &gt; 191 &amp;&amp; c1 &lt; 224) &#123;       </span><br><span class="line">            c2 = str_data.charCodeAt(i + 1);</span><br><span class="line">            tmp_arr[ac++] = String.fromCharCode(((c1 &amp; 31) &lt;&lt; 6) | (c2 &amp; 63));</span><br><span class="line">            i += 2;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            c2 = str_data.charCodeAt(i + 1);</span><br><span class="line">            c3 = str_data.charCodeAt(i + 2);</span><br><span class="line">            tmp_arr[ac++] = String.fromCharCode(((c1 &amp; 15) &lt;&lt; 12) | ((c2 &amp; 63) &lt;&lt; 6) | (c3 &amp; 63));</span><br><span class="line">            i += 3;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    return tmp_arr.join(&#x27;&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="获取窗体可见范围的宽与高"><a href="#获取窗体可见范围的宽与高" class="headerlink" title="获取窗体可见范围的宽与高"></a>获取窗体可见范围的宽与高</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function getViewSize()&#123;</span><br><span class="line">    var de=document.documentElement;</span><br><span class="line">    var db=document.body;</span><br><span class="line">    var viewW=de.clientWidth==0 ?  db.clientWidth : de.clientWidth;</span><br><span class="line">    var viewH=de.clientHeight==0 ?  db.clientHeight : de.clientHeight;</span><br><span class="line">    return Array(viewW ,viewH);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="判断IE版本号"><a href="#判断IE版本号" class="headerlink" title="判断IE版本号"></a>判断IE版本号</h4><blockquote>
<p>（既简洁、又向后兼容！）</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var _IE = (function()&#123;</span><br><span class="line">    var v = 3, div = document.createElement(&#x27;div&#x27;), all = div.getElementsByTagName(&#x27;i&#x27;);</span><br><span class="line">    while (</span><br><span class="line">        div.innerHTML = &#x27;&lt;!--[if gt IE &#x27; + (++v) + &#x27;]&gt;&lt;i&gt;&lt;/i&gt;&lt;![endif]--&gt;&#x27;,</span><br><span class="line">        all[0]</span><br><span class="line">    );</span><br><span class="line">    return v &gt; 4 ? v : false ;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<h4 id="获取浏览器版本号"><a href="#获取浏览器版本号" class="headerlink" title="获取浏览器版本号"></a>获取浏览器版本号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function browserVersion(types) &#123;</span><br><span class="line">    var other = 1;</span><br><span class="line">    for (i in types) &#123;</span><br><span class="line">        var v = types[i] ? types[i] : i;</span><br><span class="line">        if (USERAGENT.indexOf(v) != -1) &#123;</span><br><span class="line">            var re = new RegExp(v + &#x27;(\\/|\\s|:)([\\d\\.]+)&#x27;, &#x27;ig&#x27;);</span><br><span class="line">            var matches = re.exec(USERAGENT);</span><br><span class="line">            var ver = matches != null ? matches[2] : 0;</span><br><span class="line">            other = ver !== 0 &amp;&amp; v != &#x27;mozilla&#x27; ? 0 : other;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            var ver = 0;</span><br><span class="line">        &#125;</span><br><span class="line">        eval(&#x27;BROWSER.&#x27; + i + &#x27;= ver&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    BROWSER.other = other;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="半角转换为全角函数"><a href="#半角转换为全角函数" class="headerlink" title="半角转换为全角函数"></a>半角转换为全角函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function ToDBC(str)&#123;</span><br><span class="line">  var result = &#x27;&#x27;;</span><br><span class="line">  for(var i=0; i &lt; str.length; i++)&#123;</span><br><span class="line">    code = str.charCodeAt(i);</span><br><span class="line">    if(code &gt;= 33 &amp;&amp; code &lt;= 126)&#123;</span><br><span class="line">      result += String.fromCharCode(str.charCodeAt(i) + 65248);</span><br><span class="line">    &#125;else if (code == 32)&#123;</span><br><span class="line">      result += String.fromCharCode(str.charCodeAt(i) + 12288 - 32);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      result += str.charAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="全角转换为半角函数"><a href="#全角转换为半角函数" class="headerlink" title="全角转换为半角函数"></a>全角转换为半角函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function ToCDB(str)&#123;</span><br><span class="line">  var result = &#x27;&#x27;;</span><br><span class="line">  for(var i=0; i &lt; str.length; i++)&#123;</span><br><span class="line">    code = str.charCodeAt(i);</span><br><span class="line">    if(code &gt;= 65281 &amp;&amp; code &lt;= 65374)&#123;</span><br><span class="line">      result += String.fromCharCode(str.charCodeAt(i) - 65248);</span><br><span class="line">    &#125;else if (code == 12288)&#123;</span><br><span class="line">      result += String.fromCharCode(str.charCodeAt(i) - 12288 + 32);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      result += str.charAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>end</p>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2021/05/18/webpack/%E6%89%8B%E5%86%99babel/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">手写babel</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/05/14/js/js%E6%96%B9%E6%B3%95%E6%89%8B%E5%86%99/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">js方法手写</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;Comments</i>
    </div>
    

        
            
    <div id="gitalk-container"></div>
    <script data-pjax
            src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
    <script data-pjax>

        function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
                __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
                Gitalk && new Gitalk({
                    clientID: 'd497aebd1393e4084852',
                    clientSecret: 'fe2df06d7885541a3c098ad225dc39c6d64dc5f6',
                    repo: 'blog-issues',
                    owner: 'qiaolingyan',
                    admin: ['qiaolingyan'],
                    id: __gitalk__pathname,
                    language: 'zh'
                }).render('gitalk-container');

            } catch (e) {
                window.Gitalk = null;
            }
        }

        if ('true') {
            const loadGitalkTimeout = setTimeout(() => {
                loadGitalk();
                clearTimeout(loadGitalkTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
        }
    </script>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">qiao</a>
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%E6%88%AA%E5%8F%96"><span class="nav-number">1.</span> <span class="nav-text">实现字符串长度截取</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%9F%9F%E5%90%8D%E4%B8%BB%E6%9C%BA"><span class="nav-number">2.</span> <span class="nav-text">获取域名主机</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B8%85%E9%99%A4%E7%A9%BA%E6%A0%BC"><span class="nav-number">3.</span> <span class="nav-text">清除空格</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2%E5%85%A8%E9%83%A8"><span class="nav-number">4.</span> <span class="nav-text">替换全部</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E4%B9%89html%E6%A0%87%E7%AD%BE"><span class="nav-number">5.</span> <span class="nav-text">转义html标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9FJavaScript%E8%BF%98%E5%8E%9Fhtml%E6%A0%87%E7%AD%BE"><span class="nav-number">6.</span> <span class="nav-text">生JavaScript还原html标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="nav-number">7.</span> <span class="nav-text">时间日期格式转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="nav-number">8.</span> <span class="nav-text">判断是否为数字类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEcookie%E5%80%BC"><span class="nav-number">9.</span> <span class="nav-text">设置cookie值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96cookie%E5%80%BC"><span class="nav-number">10.</span> <span class="nav-text">获取cookie值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A0%E5%85%A5%E6%94%B6%E8%97%8F%E5%A4%B9"><span class="nav-number">11.</span> <span class="nav-text">加入收藏夹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E4%B8%BA%E9%A6%96%E9%A1%B5"><span class="nav-number">12.</span> <span class="nav-text">设为首页</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%ADIE6"><span class="nav-number">13.</span> <span class="nav-text">判断IE6</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6"><span class="nav-number">14.</span> <span class="nav-text">加载样式文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E8%84%9A%E6%9C%AC%E5%86%85%E5%AE%B9"><span class="nav-number">15.</span> <span class="nav-text">返回脚本内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B8%85%E9%99%A4%E8%84%9A%E6%9C%AC%E5%86%85%E5%AE%B9"><span class="nav-number">16.</span> <span class="nav-text">清除脚本内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="nav-number">17.</span> <span class="nav-text">动态加载脚本文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E6%8C%89ID%E6%A3%80%E7%B4%A2%E7%9A%84%E5%85%83%E7%B4%A0%E5%AF%B9%E8%B1%A1"><span class="nav-number">18.</span> <span class="nav-text">返回按ID检索的元素对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%89%88%E6%9C%AC%E5%86%85%E5%AE%B9"><span class="nav-number">19.</span> <span class="nav-text">返回浏览器版本内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E6%98%BE%E7%A4%BA%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">20.</span> <span class="nav-text">元素显示的通用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%9C%89insertBefore%E6%96%B9%E6%B3%95-%E5%8F%AF%E6%83%9C%E5%8D%B4%E6%B2%A1%E6%9C%89insertAfter%E6%96%B9%E6%B3%95-%E7%94%A8%E5%A6%82%E4%B8%8B%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0"><span class="nav-number">21.</span> <span class="nav-text">中有insertBefore方法,可惜却没有insertAfter方法?用如下函数实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E5%85%BC%E5%AE%B9%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BB%91%E5%AE%9A%E5%85%83%E7%B4%A0%E4%BA%8B%E4%BB%B6"><span class="nav-number">22.</span> <span class="nav-text">中兼容浏览器绑定元素事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%89%E6%A0%87%E5%81%9C%E5%9C%A8%E6%96%87%E5%AD%97%E7%9A%84%E5%90%8E%E9%9D%A2%EF%BC%8C%E6%96%87%E6%9C%AC%E6%A1%86%E8%8E%B7%E5%BE%97%E7%84%A6%E7%82%B9%E6%97%B6%E8%B0%83%E7%94%A8"><span class="nav-number">23.</span> <span class="nav-text">光标停在文字的后面，文本框获得焦点时调用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E9%AA%8CURL%E9%93%BE%E6%8E%A5%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88"><span class="nav-number">24.</span> <span class="nav-text">检验URL链接是否有效</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96CSS%E6%A0%B7%E5%BC%8F%E4%BB%A3%E7%A0%81"><span class="nav-number">25.</span> <span class="nav-text">格式化CSS样式代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9CSS%E6%A0%B7%E5%BC%8F%E4%BB%A3%E7%A0%81"><span class="nav-number">26.</span> <span class="nav-text">压缩CSS样式代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E8%B7%AF%E5%BE%84"><span class="nav-number">27.</span> <span class="nav-text">获取当前路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IP%E8%BD%AC%E6%88%90%E6%95%B4%E5%9E%8B"><span class="nav-number">28.</span> <span class="nav-text">IP转成整型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B4%E5%9E%8B%E8%A7%A3%E6%9E%90%E4%B8%BAIP%E5%9C%B0%E5%9D%80"><span class="nav-number">29.</span> <span class="nav-text">整型解析为IP地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0checkbox%E5%85%A8%E9%80%89%E4%B8%8E%E5%85%A8%E4%B8%8D%E9%80%89"><span class="nav-number">30.</span> <span class="nav-text">实现checkbox全选与全不选</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87"><span class="nav-number">31.</span> <span class="nav-text">判断是否移动设备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E8%AE%BF%E9%97%AE"><span class="nav-number">32.</span> <span class="nav-text">判断是否移动设备访问</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E8%8B%B9%E6%9E%9C%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E8%AE%BF%E9%97%AE"><span class="nav-number">33.</span> <span class="nav-text">判断是否苹果移动设备访问</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AE%89%E5%8D%93%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E8%AE%BF%E9%97%AE"><span class="nav-number">34.</span> <span class="nav-text">判断是否安卓移动设备访问</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6Touch%E5%B1%8F%E5%B9%95"><span class="nav-number">35.</span> <span class="nav-text">判断是否Touch屏幕</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%9C%A8%E5%AE%89%E5%8D%93%E4%B8%8A%E7%9A%84%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-number">36.</span> <span class="nav-text">判断是否在安卓上的谷歌浏览器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%89%93%E5%BC%80%E8%A7%86%E7%AA%97"><span class="nav-number">37.</span> <span class="nav-text">判断是否打开视窗</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E5%88%9D%E5%A7%8B%E5%8C%96%E5%A4%A7%E5%B0%8F"><span class="nav-number">38.</span> <span class="nav-text">获取移动设备初始化大小</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E6%9C%80%E5%A4%A7%E5%8C%96%E5%A4%A7%E5%B0%8F"><span class="nav-number">39.</span> <span class="nav-text">获取移动设备最大化大小</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E5%B1%8F%E5%B9%95%E5%AE%BD%E5%BA%A6"><span class="nav-number">40.</span> <span class="nav-text">获取移动设备屏幕宽度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E7%BE%8E%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E7%BD%91%E5%9D%80"><span class="nav-number">41.</span> <span class="nav-text">完美判断是否为网址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E6%A0%B7%E5%BC%8F%E5%90%8D%E7%A7%B0%E6%A3%80%E7%B4%A2%E5%85%83%E7%B4%A0%E5%AF%B9%E8%B1%A1"><span class="nav-number">42.</span> <span class="nav-text">根据样式名称检索元素对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%BB%A5%E6%9F%90%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BC%80%E5%A4%B4"><span class="nav-number">43.</span> <span class="nav-text">判断是否以某个字符串开头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%BB%A5%E6%9F%90%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BB%93%E6%9D%9F"><span class="nav-number">44.</span> <span class="nav-text">判断是否以某个字符串结束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9EIE%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="nav-number">45.</span> <span class="nav-text">返回IE浏览器的版本号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E9%AB%98%E5%BA%A6"><span class="nav-number">46.</span> <span class="nav-text">获取页面高度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2scrollLeft"><span class="nav-number">47.</span> <span class="nav-text">获取页面scrollLeft</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E5%8F%AF%E8%A7%86%E5%AE%BD%E5%BA%A6"><span class="nav-number">48.</span> <span class="nav-text">获取页面可视宽度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E5%AE%BD%E5%BA%A6"><span class="nav-number">49.</span> <span class="nav-text">获取页面宽度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2scrollTop"><span class="nav-number">50.</span> <span class="nav-text">获取页面scrollTop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E5%8F%AF%E8%A7%86%E9%AB%98%E5%BA%A6"><span class="nav-number">51.</span> <span class="nav-text">获取页面可视高度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B7%BB%E5%8A%A0%E4%BA%8B%E4%BB%B6"><span class="nav-number">52.</span> <span class="nav-text">跨浏览器添加事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6"><span class="nav-number">53.</span> <span class="nav-text">跨浏览器删除事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%BB%E6%8E%89url%E5%89%8D%E7%BC%80"><span class="nav-number">54.</span> <span class="nav-text">去掉url前缀</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%97%B6%E9%97%B4%E6%88%B3"><span class="nav-number">55.</span> <span class="nav-text">随机数时间戳</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%A8%E8%A7%92%E5%8D%8A%E8%A7%92%E8%BD%AC%E6%8D%A2-iCase-0%E5%85%A8%E5%88%B0%E5%8D%8A%EF%BC%8C1%E5%8D%8A%E5%88%B0%E5%85%A8%EF%BC%8C%E5%85%B6%E4%BB%96%E4%B8%8D%E8%BD%AC%E5%8C%96"><span class="nav-number">56.</span> <span class="nav-text">全角半角转换,iCase: 0全到半，1半到全，其他不转化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A1%AE%E8%AE%A4%E6%98%AF%E5%90%A6%E9%94%AE%E7%9B%98%E6%9C%89%E6%95%88%E8%BE%93%E5%85%A5%E5%80%BC"><span class="nav-number">57.</span> <span class="nav-text">确认是否键盘有效输入值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%BD%91%E9%A1%B5%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="nav-number">58.</span> <span class="nav-text">获取网页被卷去的位置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%A6%E4%B8%80%E7%A7%8D%E6%AD%A3%E5%88%99%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0-%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">59.</span> <span class="nav-text">另一种正则日期格式化函数+调用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E4%B8%AA%E6%80%A7%E5%8C%96%E8%BE%93%E5%87%BA%E5%8A%9F%E8%83%BD"><span class="nav-number">60.</span> <span class="nav-text">时间个性化输出功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3offsetX%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98"><span class="nav-number">61.</span> <span class="nav-text">解决offsetX兼容性问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">62.</span> <span class="nav-text">常用的正则表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">63.</span> <span class="nav-text">实现返回顶部的通用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%BE%97URL%E4%B8%ADGET%E5%8F%82%E6%95%B0%E5%80%BC"><span class="nav-number">64.</span> <span class="nav-text">获得URL中GET参数值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%85%A8%E9%80%89%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">65.</span> <span class="nav-text">实现全选通用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E5%85%A8%E9%83%A8%E5%8F%96%E6%B6%88%E9%80%89%E6%8B%A9%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">66.</span> <span class="nav-text">实现全部取消选择通用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E6%89%93%E5%BC%80%E4%B8%80%E4%B8%AA%E7%AA%97%E4%BD%93%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">67.</span> <span class="nav-text">实现打开一个窗体通用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%BE%E5%A4%87"><span class="nav-number">68.</span> <span class="nav-text">判断是否为客户端设备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%8D%95%E9%80%89%E6%8C%89%E9%92%AE%E7%9A%84%E5%80%BC"><span class="nav-number">69.</span> <span class="nav-text">获取单选按钮的值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%A4%8D%E9%80%89%E6%A1%86%E7%9A%84%E5%80%BC"><span class="nav-number">70.</span> <span class="nav-text">获取复选框的值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E9%82%AE%E7%AE%B1"><span class="nav-number">71.</span> <span class="nav-text">判断是否为邮箱</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%9C%89%E5%88%97%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%8D%B1%E9%99%A9%E5%AD%97%E7%AC%A6"><span class="nav-number">72.</span> <span class="nav-text">判断是否有列表中的危险字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E5%A4%A7%E4%BA%8E%E8%A7%84%E5%AE%9A%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="nav-number">73.</span> <span class="nav-text">判断字符串是否大于规定的长度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E4%B8%BA%E7%BD%91%E5%9D%80%E4%B8%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="nav-number">74.</span> <span class="nav-text">判断字符串是为网址不区分大小写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%B8%BA%E5%B0%8F%E6%95%B0"><span class="nav-number">75.</span> <span class="nav-text">判断字符串是否为小数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B4%E6%95%B0"><span class="nav-number">76.</span> <span class="nav-text">判断字符串是否为整数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%B8%BA%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="nav-number">77.</span> <span class="nav-text">判断字符串是否为浮点数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E6%98%AF%E5%90%A6%E4%B8%BAA-Za-z%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D"><span class="nav-number">78.</span> <span class="nav-text">判断字符是否为A-Za-z英文字母</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E9%82%AE%E6%94%BF%E7%BC%96%E7%A0%81"><span class="nav-number">79.</span> <span class="nav-text">判断字符串是否邮政编码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E6%98%AF%E5%90%A6%E7%A9%BANULL"><span class="nav-number">80.</span> <span class="nav-text">判断字符是否空NULL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8F%90%E5%8F%96%E9%A1%B5%E9%9D%A2%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%89%80%E6%9C%89%E7%BD%91%E5%9D%80"><span class="nav-number">81.</span> <span class="nav-text">用正则表达式提取页面代码中所有网址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B8%85%E9%99%A4%E7%9B%B8%E5%90%8C%E7%9A%84%E6%95%B0%E7%BB%84-%E4%BD%8E%E6%95%88%E7%8E%87"><span class="nav-number">82.</span> <span class="nav-text">用正则表达式清除相同的数组(低效率)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B8%85%E9%99%A4%E7%9B%B8%E5%90%8C%E7%9A%84%E6%95%B0%E7%BB%84-%E9%AB%98%E6%95%88%E7%8E%87"><span class="nav-number">83.</span> <span class="nav-text">用正则表达式清除相同的数组(高效率)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8C%89%E5%AD%97%E6%AF%8D%E6%8E%92%E5%BA%8F%EF%BC%8C%E5%AF%B9%E6%AF%8F%E8%A1%8C%E8%BF%9B%E8%A1%8C%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="nav-number">84.</span> <span class="nav-text">用正则表达式按字母排序，对每行进行数组排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8D%E5%BA%8F"><span class="nav-number">85.</span> <span class="nav-text">字符串反序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B8%85%E9%99%A4html%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E8%84%9A%E6%9C%AC"><span class="nav-number">86.</span> <span class="nav-text">用正则表达式清除html代码中的脚本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E6%89%A7%E8%A1%8CJavaScript%E8%84%9A%E6%9C%AC"><span class="nav-number">87.</span> <span class="nav-text">动态执行JavaScript脚本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E6%89%A7%E8%A1%8CVBScript%E8%84%9A%E6%9C%AC"><span class="nav-number">88.</span> <span class="nav-text">动态执行VBScript脚本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E9%87%91%E9%A2%9D%E5%A4%A7%E5%86%99%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="nav-number">89.</span> <span class="nav-text">实现金额大写转换函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%A4%A7%E6%94%B6%E9%9B%86"><span class="nav-number">90.</span> <span class="nav-text">常用的正则表达式大收集</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E7%AA%97%E4%BD%93%E6%94%B9%E5%8F%98%E4%BA%8B%E4%BB%B6resize%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-number">91.</span> <span class="nav-text">实现窗体改变事件resize的操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%AD%A3%E5%88%99%E6%B8%85%E9%99%A4%E7%A9%BA%E6%A0%BC%E5%88%86%E5%B7%A6%E5%8F%B3"><span class="nav-number">92.</span> <span class="nav-text">用正则清除空格分左右</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E7%A9%BA%E5%80%BC"><span class="nav-number">93.</span> <span class="nav-text">判断变量是否空值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0base64%E8%A7%A3%E7%A0%81"><span class="nav-number">94.</span> <span class="nav-text">实现base64解码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0utf8%E8%A7%A3%E7%A0%81"><span class="nav-number">95.</span> <span class="nav-text">实现utf8解码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%AA%97%E4%BD%93%E5%8F%AF%E8%A7%81%E8%8C%83%E5%9B%B4%E7%9A%84%E5%AE%BD%E4%B8%8E%E9%AB%98"><span class="nav-number">96.</span> <span class="nav-text">获取窗体可见范围的宽与高</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%ADIE%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="nav-number">97.</span> <span class="nav-text">判断IE版本号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%B5%8F%E8%A7%88%E5%99%A8%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="nav-number">98.</span> <span class="nav-text">获取浏览器版本号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%8A%E8%A7%92%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%85%A8%E8%A7%92%E5%87%BD%E6%95%B0"><span class="nav-number">99.</span> <span class="nav-text">半角转换为全角函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%A8%E8%A7%92%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%8D%8A%E8%A7%92%E5%87%BD%E6%95%B0"><span class="nav-number">100.</span> <span class="nav-text">全角转换为半角函数</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
